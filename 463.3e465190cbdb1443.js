"use strict";(self.webpackChunktemplate_rpm_adnare=self.webpackChunktemplate_rpm_adnare||[]).push([[463],{91684:(P,z,a)=>{a.d(z,{j:()=>S});var o=a(62843),_=a(80529),l=a(17414),d=a(70262),g=a(92340),w=a(94650);let S=(()=>{class h{constructor(i){this.http=i,this.opened=!1,this.prevIndexId=null,this.baseUrl="",this.token="",this.patient_id=null,this.headers=new _.WM({"Content-Type":"application/json",charset:"UTF-8",Authorization:"Bearer "+this.token})}getBillingStatusDropdown(){return this.headers.set("Authorization","Bearer "+localStorage.getItem("token")),this.http.get(g.N.api_AdnareRPM+"/api/Repository/get_lkp_billing_status",{headers:this.headers}).pipe((0,l.V)(1e6),(0,d.K)(i=>401===i.status?(window.open(window.location.origin,"_self"),(0,o._)("Unauthorized")):(0,o._)(i)))}getBillingInsuranceDropdown(){return this.headers.set("Authorization","Bearer "+localStorage.getItem("token")),this.http.get(g.N.api_AdnareRPM+"/api/Repository/get_lkp_billing_insurance_type",{headers:this.headers}).pipe((0,l.V)(1e6),(0,d.K)(i=>401===i.status?(window.open(window.location.origin,"_self"),(0,o._)("Unauthorized")):(0,o._)(i)))}getProviderReport(i){this.headers.set("Authorization","Bearer "+localStorage.getItem("token"));let e=new _.LE;return e=i,this.http.get(g.N.api_AdnareRPM+"/api/Billing/sp_grid_provider_reports",{headers:this.headers,params:e}).pipe((0,l.V)(1e6),(0,d.K)(p=>401===p.status?(window.open(window.location.origin,"_self"),(0,o._)("Unauthorized")):(0,o._)(p)))}getHomeCareReport(i){this.headers.set("Authorization","Bearer "+localStorage.getItem("token"));let e=new _.LE;return e=i,this.http.get(g.N.api_AdnareRPM+"/api/Billing/sp_grid_home_care_reports",{headers:this.headers,params:e}).pipe((0,l.V)(1e6),(0,d.K)(p=>401===p.status?(window.open(window.location.origin,"_self"),(0,o._)("Unauthorized")):(0,o._)(p)))}downloadProviderReport(i,e){return this.headers.set("Authorization","Bearer "+localStorage.getItem("token")),this.http.get(g.N.api_AdnareRPM+"/api/Billing/download_provider_reports?rpm_billing_id="+i+"&user_id="+e,{headers:this.headers}).pipe((0,l.V)(1e6),(0,d.K)(p=>401===p.status?(window.open(window.location.origin,"_self"),(0,o._)("Unauthorized")):(0,o._)(p)))}getClaims(i){return this.headers.set("Authorization","Bearer "+localStorage.getItem("token")),this.http.get(g.N.api_AdnareRPM+"/api/Billing/get_claims?rpm_billing_id="+i,{headers:this.headers}).pipe((0,l.V)(1e6),(0,d.K)(e=>401===e.status?(window.open(window.location.origin,"_self"),(0,o._)("Unauthorized")):(0,o._)(e)))}getReadings(i){this.headers.set("Authorization","Bearer "+localStorage.getItem("token"));let e=new _.LE;return e=i,this.http.get(g.N.api_AdnareRPM+"/api/Billing/fn_get_readings",{headers:this.headers,params:e}).pipe((0,l.V)(1e6),(0,d.K)(p=>401===p.status?(window.open(window.location.origin,"_self"),(0,o._)("Unauthorized")):(0,o._)(p)))}updateCompleteStatus(i){return this.headers.set("Authorization","Bearer "+localStorage.getItem("token")),this.http.post(g.N.api_AdnareRPM+"/api/Billing/add_patient_doc_download_record",JSON.stringify(i),{headers:this.headers}).pipe((0,l.V)(1e6),(0,d.K)(e=>401===e.status?(window.open(window.location.origin,"_self"),(0,o._)("Unauthorized")):(0,o._)(e)))}getNotes(i){this.headers.set("Authorization","Bearer "+localStorage.getItem("token"));let e=new _.LE;return e=i,this.http.get(g.N.api_AdnareRPM+"/api/Billing/fn_get_notes",{headers:this.headers,params:e}).pipe((0,l.V)(1e6),(0,d.K)(p=>401===p.status?(window.open(window.location.origin,"_self"),(0,o._)("Unauthorized")):(0,o._)(p)))}getDeviceInfo(i){return this.headers.set("Authorization","Bearer "+localStorage.getItem("token")),this.http.get(g.N.api_AdnareRPM+"/api/Billing/getDeviceInfo?patient_id="+i,{headers:this.headers}).pipe((0,l.V)(1e6),(0,d.K)(e=>401===e.status?(window.open(window.location.origin,"_self"),(0,o._)("Unauthorized")):(0,o._)(e)))}getICDCodes(i){return this.headers.set("Authorization","Bearer "+localStorage.getItem("token")),this.http.get(g.N.api_AdnareRPM+"/api/Billing/get_patient_diagnosis?patient_id="+i,{headers:this.headers}).pipe((0,l.V)(1e6),(0,d.K)(e=>401===e.status?(window.open(window.location.origin,"_self"),(0,o._)("Unauthorized")):(0,o._)(e)))}downloadHomeCareReport(i){return this.headers.set("Authorization","Bearer "+localStorage.getItem("token")),this.http.get(g.N.api_AdnareRPM+"/api/Billing/download_home_care_reports?rpm_billing_id="+i,{headers:this.headers}).pipe((0,l.V)(1e6),(0,d.K)(e=>401===e.status?(window.open(window.location.origin,"_self"),(0,o._)("Unauthorized")):(0,o._)(e)))}getHomeCareDropdown(i){return this.headers.set("Authorization","Bearer "+localStorage.getItem("token")),this.http.get(g.N.api_AdnareRPM+"/api/Repository/get_home_care?entity_id="+i,{headers:this.headers}).pipe((0,l.V)(1e6),(0,d.K)(e=>401===e.status?(window.open(window.location.origin,"_self"),(0,o._)("Unauthorized")):(0,o._)(e)))}}return h.\u0275fac=function(i){return new(i||h)(w.LFG(_.eN))},h.\u0275prov=w.Yz7({token:h,factory:h.\u0275fac,providedIn:"root"}),h})()},12463:(P,z,a)=>{a.r(z),a.d(z,{ProviderReportsModule:()=>x});var o=a(36895),_=a(62510),l=a(90433),d=a(46773),g=a(29193),w=a(91083),S=a(49671),h=a(35226),c=a.n(h),i=a(88938),e=a(94650),p=a(91684),A=a(39503),M=a(47044),D=a(47423),m=a(40269),T=a(31237),Z=a(31453),R=a(80728),I=a(70827);function B(u,f){if(1&u){const n=e.EpF();e.TgZ(0,"tr")(1,"td"),e._uU(2),e.qZA(),e.TgZ(3,"td"),e._uU(4),e.qZA(),e.TgZ(5,"td"),e._uU(6),e.ALo(7,"date"),e.qZA(),e.TgZ(8,"td",32),e.NdJ("click",function(){const r=e.CHM(n).$implicit,v=e.oxw();return e.KtG(v.openClaim(r.rpm_billing_id))}),e._uU(9),e.ALo(10,"date"),e.qZA(),e.TgZ(11,"td"),e._uU(12),e.ALo(13,"date"),e.qZA(),e.TgZ(14,"td"),e._uU(15),e.qZA(),e.TgZ(16,"td"),e._uU(17),e.qZA(),e.TgZ(18,"td"),e._uU(19),e.ALo(20,"date"),e.qZA(),e.TgZ(21,"td"),e._uU(22),e.ALo(23,"date"),e.qZA(),e.TgZ(24,"td"),e._uU(25),e.qZA(),e.TgZ(26,"td")(27,"div",33)(28,"i",34),e.NdJ("click",function(){const r=e.CHM(n).$implicit,v=e.oxw();return e.KtG(v.downloadReport(r.rpm_billing_id))}),e.qZA()()()()}if(2&u){const n=f.$implicit;e.xp6(2),e.Oqu(n.entity),e.xp6(2),e.lnq("",n.first_name," ",n.middle_name," ",n.last_name,""),e.xp6(2),e.Oqu(e.xi3(7,13,n.billed_from,"MM/dd/yyyy hh:mm")),e.xp6(3),e.Oqu(e.xi3(10,16,n.billed_to,"MM/dd/yyyy hh:mm")),e.xp6(3),e.Oqu(e.xi3(13,19,n.billed_date,"MM/dd/yyyy hh:mm")),e.xp6(3),e.Oqu(n.billing_insurance),e.xp6(2),e.Oqu(n.cycle_count),e.xp6(2),e.Oqu(e.xi3(20,22,n.last_downloaded,"MM/dd/yyyy hh:mm:ss")),e.xp6(3),e.Oqu(e.xi3(23,25,n.last_sent_date,"MM/dd/yyyy hh:mm:ss")),e.xp6(3),e.AsE("",n.user_first_name," ",n.user_last_name,"")}}const U=[{path:"",component:(()=>{class u{constructor(n,t,s,r){this.router=n,this.billingService=t,this.patientService=s,this.datepipe=r,this.enterpriseDropdownData=[],this.providerDropdownData=[],this.statusDropdownData=[],this.billingInsuranceDropdownData=[],this.pageSizeOptions=[10,20,30,40],this.pageIndex=1,this.pageSize=10,this.total=1e3,this.changePageSize=10,this.get_all_data=!1,this.billing_start_date=null,this.billing_end_date=null,this.billing_date=null}ngOnInit(){this.initData()}initData(){this.getBillingStatusDropdown(),this.getBillingInsuranceDropdown(),this.getEnterpriseSearchDropdown()}handleClear(){this.status=null,this.billing_insurance=null,this.billing_start_date=null,this.billing_end_date=null,this.billing_date=null,this.entity=null,this.provider=null}search(){(null!=this.entity||null!=this.provider||null!=this.status||null!=this.billing_insurance||null!=this.billing_start_date||null!=this.billing_end_date||null!=this.billing_date)&&(this.pageIndex=1),this.getProviderReports()}onQueryParamsChange(n){var t=this;return(0,S.Z)(function*(){t.changePageSize=t.pageSize,t.prev_pageIndex=null!=t.savedParams?t.savedParams.pageIndex:null,t.savedParams=n;const{pageIndex:r,sort:v}=n,b=v.find(C=>null!==C.value);t.sortField=b&&b.key||null,t.sortOrder=b&&b.value||null,t.pageIndex=r,(null!=t.prev_pageIndex&&t.prev_pageIndex!=t.pageIndex||null!=t.provider_reports&&null!=t.sortField&&null!=t.sortOrder||t.changePageSize!=t.pageSize)&&t.getProviderReports()})()}getProviderReports(){if(this.provider){const n=this.provider.split(" ");n.length>1?(this.provider_first_name=n[0].toLowerCase(),this.provider_last_name=n[n.length-1].toLowerCase()):this.provider_name=this.provider.toLowerCase()}this.search_model={sort_order:this.sortOrder??"",sort_coloumn:this.sortField??"",page_number:this.pageIndex,page_size:this.pageSize,get_all_data:this.get_all_data,enterprise_id:this.entity??"",provider_first_name:this.provider_first_name??"",provider_last_name:this.provider_last_name??"",provider_name:this.provider_name??"",lkp_billing_status_id:this.status??"",lkp_billing_insurance_type_id:this.billing_insurance??"",user_id:localStorage.getItem("user_id"),billing_start_date:null===this.billing_start_date?"":this.convert(this.billing_start_date),billing_end_date:null===this.billing_end_date?"":this.convert(this.billing_end_date),billing_date:null===this.billing_date?"":this.convert(this.billing_date)},this.billingService.getProviderReport(this.search_model).subscribe(n=>{1==n.success?(this.provider_reports=n.data,this.totalReports=n.data.length>0?n.data[0].total_record_count:0):c().fire({icon:"error",text:n.message})})}convert(n){const t=new Date(n),s=("0"+(t.getMonth()+1)).slice(-2),r=("0"+t.getDate()).slice(-2),v=("0"+t.getHours()).slice(-2),y=("0"+t.getHours()).slice(-2),b=("0"+t.getHours()).slice(-2);return[[t.getFullYear(),s,r].join("-"),[v,y,b].join(":")].join(" ")}downloadReport(n){null!=this.provider_reports&&0!=this.provider_reports.length?this.downloadAllProviderReports(n):c().fire({icon:"error",text:"No Record to Download"})}downloadAllProviderReports(n){var t=this;return(0,S.Z)(function*(){t.billingService.downloadProviderReport(n,Number(localStorage.getItem("user_id"))).subscribe(s=>{1==s.success?(t.providerReportExportData=s.data.map(r=>({"Patient First Name":r.patient_first_name,"Patient Last Name":r.patient_last_name,DOB:t.datepipe.transform(r.patient_dob,"MM/dd/yyyy"),Account:r.account,Address:r.address,Provider:r.provider_first_name+" "+(r.provider_middle_name??"")+" "+r.provider_last_name,"Billed Type":r.billed_type,"Billing Start Date":t.datepipe.transform(r.billing_start_date,"MM/dd/yyyy"),"Billed Date":t.datepipe.transform(r.billed_date,"MM/dd/yyyy"),Units:r.units,"Calculated Units":r.calculated_unit,CPT:r.cpt,Entity:r.entity,"Report Type":r.billing_insurance.trim(),"Inusrance Name":r.insurance_name,"Inusrance Type":r.insurance_type.trim(),"Policy Id":r.policy_id,"Insured Relation":r.insured_relation,"Subscriber First Name":r.subscriber_first_name,"Subscriber Last Name":r.subscriber_last_name,"Subscriber's City":r.subscriber_city,"Subscriber's State":r.subscriber_state,"Subscriber's ZipCode":r.subscriber_zipcode,"Subscriber's Gender":r.subscriber_gender})),t.exportToCsv(t.providerReportExportData),t.getProviderReports()):c().fire({icon:"error",text:s.message})})})()}exportToCsv(n){new i.Sv(n,"Provider Reports",{fieldSeparator:",",quoteStrings:'"',decimalseparator:".",title:"",useBom:!0,noDownload:!1,headers:["Patient First Name","Patient Last Name","DOB","Account","Address","Provider","Billed Type","Billing Start Date","Billed Date","Units","Calculated Units","CPT","Entity","Report Type","Inusrance Name","Inusrance Type","Policy Id","Insured Relation","Subscriber First Name","Subscriber Last Name","Subscriber's City","Subscriber's State","Subscriber's ZipCode","Subscriber's Gender"]})}getEnterpriseSearchDropdown(){this.userId=localStorage.getItem("user_id"),this.patientService.getActiveEnterpriseDropdownData(this.userId).subscribe(n=>{1==n.success?(this.enterpriseDropdownData=n.data,1==this.enterpriseDropdownData.length&&(this.entity=this.enterpriseDropdownData[0].id)):c().fire({icon:"error",text:n.message})})}openClaim(n){this.billingService.rpm_billing_id=n,localStorage.setItem("claims","true"),this.router.navigate(["/claims"])}getBillingStatusDropdown(){this.billingService.getBillingStatusDropdown().subscribe(n=>{1==n.success?this.statusDropdownData=n.data:c().fire({icon:"error",text:n.message})})}getBillingInsuranceDropdown(){this.billingService.getBillingInsuranceDropdown().subscribe(n=>{1==n.success?this.billingInsuranceDropdownData=n.data:c().fire({icon:"error",text:n.message})})}}return u.\u0275fac=function(n){return new(n||u)(e.Y36(_.F0),e.Y36(p.j),e.Y36(A.e),e.Y36(o.uU))},u.\u0275cmp=e.Xpm({type:u,selectors:[["app-provider-reports"]],decls:62,vars:31,consts:[[1,"screen"],[1,"screen-header"],[1,"screen-name"],["ngbTooltip","Search","tooltipClass","custom-search-tooltip-color",1,"screen-header-btn","margin-right",3,"click"],[1,"fa","fa-search"],[1,"screen-header-btn","margin-right",3,"click"],[1,"screen-search-criteria-div"],[1,"row"],[1,"col-lg-3","col-md-2","col-sm-6","col-xs-6"],["label","Entity","dropdown_placeholder","Entity","bindLabel","name","icon","fa fa-square-plus","align_icon","left",3,"ngModel","dropdownListData","ngModelChange"],["type","text","placeholder","Provider Name","label","Provider Name","icon","fa fa-user","accesskey","P","align_icon","left",3,"ngModel","ngModelChange"],["label","Status","dropdown_placeholder","Status","bindLabel","name","icon","fa fa-book-medical","align_icon","left",3,"ngModel","dropdownListData","ngModelChange"],["label","Billing Insurance","dropdown_placeholder","Billing Insurance","bindLabel","name","icon","fa fa-shield","align_icon","left",3,"ngModel","dropdownListData","ngModelChange"],["label","Billing Start Date","icon","fa fa-calendar","accesskey","S","align_icon","left",3,"ngModel","ngModelChange"],["label","Billing End Date","accesskey","B","icon","fa fa-calendar","align_icon","left",3,"ngModel","ngModelChange"],["label","Billed Date","accesskey","B","icon","fa fa-calendar","align_icon","left",3,"ngModel","ngModelChange"],[1,"table-div"],["nzShowSizeChanger","",1,"ch-table",3,"nzPageSizeOptions","nzFrontPagination","nzTotal","nzPageIndex","nzPageSize","nzData","nzQueryParams","nzPageIndexChange","nzPageSizeChange"],["nzTable","","sortTable","","filterTable",""],["nzColumnKey","entity",3,"nzSortFn"],["nzColumnKey","provider",3,"nzSortFn"],["nzColumnKey","billed_from",3,"nzSortFn"],["nzColumnKey","billed_to",3,"nzSortFn"],["nzColumnKey","billed_date",3,"nzSortFn"],["nzColumnKey","billing_insurance",3,"nzSortFn"],["nzColumnKey","charge_count",3,"nzSortFn"],["nzColumnKey","status",3,"nzSortFn"],["nzColumnKey","last_sent_date",3,"nzSortFn"],[4,"ngFor","ngForOf"],[1,"total"],[3,"src"],[1,"total-span"],[1,"text-decoration",3,"click"],[2,"text-align-last","center"],["nz-icon","","nzType","download","nzTheme","outline","nzTooltipPlacement","top","ngbTooltip","Download",1,"table-coloumn-icons",3,"click"]],template:function(n,t){1&n&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2),e._uU(3," Provider Reports "),e.qZA(),e.TgZ(4,"div")(5,"button",3),e.NdJ("click",function(){return t.search()}),e._UZ(6,"span",4),e.qZA(),e.TgZ(7,"button",5),e.NdJ("click",function(){return t.handleClear()}),e._uU(8,"Clear All"),e.qZA()()(),e.TgZ(9,"div",6)(10,"div",7)(11,"div",8)(12,"app-ad-custom-dropdown",9),e.NdJ("ngModelChange",function(r){return t.entity=r}),e.qZA()(),e.TgZ(13,"div",8)(14,"app-ad-custom-input",10),e.NdJ("ngModelChange",function(r){return t.provider=r}),e.qZA()(),e.TgZ(15,"div",8)(16,"app-ad-custom-dropdown",11),e.NdJ("ngModelChange",function(r){return t.status=r}),e.qZA()(),e.TgZ(17,"div",8)(18,"app-ad-custom-dropdown",12),e.NdJ("ngModelChange",function(r){return t.billing_insurance=r}),e.qZA()()(),e.TgZ(19,"div",7)(20,"div",8)(21,"app-ad-custom-date",13),e.NdJ("ngModelChange",function(r){return t.billing_start_date=r}),e.qZA()(),e.TgZ(22,"div",8)(23,"app-ad-custom-date",14),e.NdJ("ngModelChange",function(r){return t.billing_end_date=r}),e.qZA()(),e.TgZ(24,"div",8)(25,"app-ad-custom-date",15),e.NdJ("ngModelChange",function(r){return t.billing_date=r}),e.qZA()()()(),e.TgZ(26,"div",16)(27,"nz-table",17,18),e.NdJ("nzQueryParams",function(r){return t.onQueryParamsChange(r)})("nzPageIndexChange",function(r){return t.pageIndex=r})("nzPageSizeChange",function(r){return t.pageSize=r}),e.TgZ(31,"thead")(32,"tr")(33,"th",19),e._uU(34,"Entity"),e.qZA(),e.TgZ(35,"th",20),e._uU(36,"Provider"),e.qZA(),e.TgZ(37,"th",21),e._uU(38,"Billed From"),e.qZA(),e.TgZ(39,"th",22),e._uU(40,"Billed To"),e.qZA(),e.TgZ(41,"th",23),e._uU(42,"Billed Date"),e.qZA(),e.TgZ(43,"th",24),e._uU(44,"Billing Insurance"),e.qZA(),e.TgZ(45,"th",25),e._uU(46,"Charge Count"),e.qZA(),e.TgZ(47,"th",26),e._uU(48,"Last Downloaded"),e.qZA(),e.TgZ(49,"th",27),e._uU(50,"Last Sent Date"),e.qZA(),e.TgZ(51,"th",27),e._uU(52,"Last Downloaded by"),e.qZA(),e.TgZ(53,"th"),e._uU(54,"Action"),e.qZA()()(),e.TgZ(55,"tbody"),e.YNc(56,B,29,28,"tr",28),e.qZA()(),e.TgZ(57,"div",29),e._UZ(58,"img",30),e.ALo(59,"assetsSource"),e.TgZ(60,"span",31),e._uU(61),e.qZA()()()()),2&n&&(e.xp6(12),e.Q6J("ngModel",t.entity)("dropdownListData",t.enterpriseDropdownData),e.xp6(2),e.Q6J("ngModel",t.provider),e.xp6(2),e.Q6J("ngModel",t.status)("dropdownListData",t.statusDropdownData),e.xp6(2),e.Q6J("ngModel",t.billing_insurance)("dropdownListData",t.billingInsuranceDropdownData),e.xp6(3),e.Q6J("ngModel",t.billing_start_date),e.xp6(2),e.Q6J("ngModel",t.billing_end_date),e.xp6(2),e.Q6J("ngModel",t.billing_date),e.xp6(2),e.Q6J("nzPageSizeOptions",t.pageSizeOptions)("nzFrontPagination",!1)("nzTotal",t.totalReports)("nzPageIndex",t.pageIndex)("nzPageSize",t.pageSize)("nzData",t.provider_reports),e.xp6(6),e.Q6J("nzSortFn",!0),e.xp6(2),e.Q6J("nzSortFn",!0),e.xp6(2),e.Q6J("nzSortFn",!0),e.xp6(2),e.Q6J("nzSortFn",!0),e.xp6(2),e.Q6J("nzSortFn",!0),e.xp6(2),e.Q6J("nzSortFn",!0),e.xp6(2),e.Q6J("nzSortFn",!0),e.xp6(2),e.Q6J("nzSortFn",!0),e.xp6(2),e.Q6J("nzSortFn",!0),e.xp6(2),e.Q6J("nzSortFn",!0),e.xp6(5),e.Q6J("ngForOf",t.provider_reports),e.xp6(2),e.Q6J("src",e.lcZ(59,29,"total.png"),e.LSH),e.xp6(3),e.Oqu(t.totalReports))},dependencies:[o.sg,M.w,D.Ls,m.N8,m.qD,m.Uo,m._C,m.Om,m.p0,m.$Z,l.JJ,l.On,d._L,T.y,Z.m,R.v,o.uU,I.n]}),u})()}];let x=(()=>{class u{}return u.\u0275fac=function(n){return new(n||u)},u.\u0275mod=e.oAB({type:u}),u.\u0275inj=e.cJS({imports:[o.ez,w.T,_.Bz.forChild(U),l.u5,l.UX,d.IJ,g.m,_.Bz]}),u})()}}]);