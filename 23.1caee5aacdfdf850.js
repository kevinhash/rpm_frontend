"use strict";(self.webpackChunktemplate_rpm_adnare=self.webpackChunktemplate_rpm_adnare||[]).push([[23],{24339:(U,b,r)=>{r.d(b,{s:()=>P});var h=r(80529),o=r(62843),d=r(17414),g=r(70262),p=r(92340),A=r(94650);let P=(()=>{class f{constructor(a){this.http=a,this.token="",this.baseUrl="",this.method="",this.headers=new h.WM({"Content-Type":"application/json",charset:"UTF-8",Authorization:"Bearer "+this.token})}getPatientsWithoutDevices(a){this.headers.set("Authorization","Bearer "+localStorage.getItem("token"));let e=new h.LE;return e=a,this.http.get(p.N.api_AdnareRPM+"/api/ActionDashboard/sp_dashboard_without_patients",{headers:this.headers,params:e}).pipe((0,d.V)(1e6),(0,g.K)(i=>401===i.status?(window.open(window.location.origin,"_self"),(0,o._)("Unauthorized")):(0,o._)(i)))}getPatientRenewals(a){this.headers.set("Authorization","Bearer "+localStorage.getItem("token"));let e=new h.LE;return e=a,this.http.get(p.N.api_AdnareRPM+"/api/ActionDashboard/sp_dashboard_renewals",{headers:this.headers,params:e}).pipe((0,d.V)(1e6),(0,g.K)(i=>401===i.status?(window.open(window.location.origin,"_self"),(0,o._)("Unauthorized")):(0,o._)(i)))}getBillingReadingDetails(a){this.headers.set("Authorization","Bearer "+localStorage.getItem("token"));let e=new h.LE;return e=a,this.http.get(p.N.api_AdnareRPM+"/api/ActionDashboard/sp_dashboard_billing_reading_detail",{headers:this.headers,params:e}).pipe((0,d.V)(1e6),(0,g.K)(i=>401===i.status?(window.open(window.location.origin,"_self"),(0,o._)("Unauthorized")):(0,o._)(i)))}getBillingMinutesDetails(a){this.headers.set("Authorization","Bearer "+localStorage.getItem("token"));let e=new h.LE;return e=a,this.http.get(p.N.api_AdnareRPM+"/api/ActionDashboard/sp_dashboard_billing_minutes_detail",{headers:this.headers,params:e}).pipe((0,d.V)(1e6),(0,g.K)(i=>401===i.status?(window.open(window.location.origin,"_self"),(0,o._)("Unauthorized")):(0,o._)(i)))}getMissedBillingReadingDetails(a){this.headers.set("Authorization","Bearer "+localStorage.getItem("token"));let e=new h.LE;return e=a,this.http.get(p.N.api_AdnareRPM+"/api/ActionDashboard/sp_dashboard_missing_billing_cycle_for_medicare_30_rolling_days",{headers:this.headers,params:e}).pipe((0,d.V)(1e6),(0,g.K)(i=>401===i.status?(window.open(window.location.origin,"_self"),(0,o._)("Unauthorized")):(0,o._)(i)))}getPOCNeedsToBeDownloadedDetail(a){this.headers.set("Authorization","Bearer "+localStorage.getItem("token"));let e=new h.LE;return e=a,this.http.get(p.N.api_AdnareRPM+"/api/ActionDashboard/sp_dashboard_poc_needs_to_be_downloaded",{headers:this.headers,params:e}).pipe((0,d.V)(1e6),(0,g.K)(i=>401===i.status?(window.open(window.location.origin,"_self"),(0,o._)("Unauthorized")):(0,o._)(i)))}getMissedBillingMinutesDetails(a){this.headers.set("Authorization","Bearer "+localStorage.getItem("token"));let e=new h.LE;return e=a,this.http.get(p.N.api_AdnareRPM+"/api/ActionDashboard/sp_dashboard_missing_billing_cycle_for_calendar_month",{headers:this.headers,params:e}).pipe((0,d.V)(1e6),(0,g.K)(i=>401===i.status?(window.open(window.location.origin,"_self"),(0,o._)("Unauthorized")):(0,o._)(i)))}getPendingAuthRequest(a){this.headers.set("Authorization","Bearer "+localStorage.getItem("token"));let e=new h.LE;return e=a,this.http.get(p.N.api_AdnareRPM+"/api/ActionDashboard/sp_dashboard_pending_auth_request",{headers:this.headers,params:e}).pipe((0,d.V)(1e6),(0,g.K)(i=>401===i.status?(window.open(window.location.origin,"_self"),(0,o._)("Unauthorized")):(0,o._)(i)))}getBillingCycles(a){this.headers.set("Authorization","Bearer "+localStorage.getItem("token"));let e=new h.LE;return e=a,this.http.get(p.N.api_AdnareRPM+"/api/ActionDashboard/sp_dashboard_billing_cycles",{headers:this.headers,params:e}).pipe((0,d.V)(1e6),(0,g.K)(i=>401===i.status?(window.open(window.location.origin,"_self"),(0,o._)("Unauthorized")):(0,o._)(i)))}getAbnormalReadings(a){this.headers.set("Authorization","Bearer "+localStorage.getItem("token"));let e=new h.LE;return e=a,this.http.get(p.N.api_AdnareRPM+"/api/ActionDashboard/sp_dashboard_abnormal_readings",{headers:this.headers,params:e}).pipe((0,d.V)(1e6),(0,g.K)(i=>401===i.status?(window.open(window.location.origin,"_self"),(0,o._)("Unauthorized")):(0,o._)(i)))}getPatientWithoutReadings(a){this.headers.set("Authorization","Bearer "+localStorage.getItem("token"));let e=new h.LE;return e=a,this.http.get(p.N.api_AdnareRPM+"/api/ActionDashboard/sp_dashboard_device_attached_no_reading",{headers:this.headers,params:e}).pipe((0,d.V)(1e6),(0,g.K)(i=>401===i.status?(window.open(window.location.origin,"_self"),(0,o._)("Unauthorized")):(0,o._)(i)))}getCriticalReadings(a){this.headers.set("Authorization","Bearer "+localStorage.getItem("token"));let e=new h.LE;return e=a,this.http.get(p.N.api_AdnareRPM+"/api/ActionDashboard/sp_dashboard_critical_readings",{headers:this.headers,params:e}).pipe((0,d.V)(1e6),(0,g.K)(i=>401===i.status?(window.open(window.location.origin,"_self"),(0,o._)("Unauthorized")):(0,o._)(i)))}getPatientSatisticalGridData(a){return this.headers.set("Authorization","Bearer "+localStorage.getItem("token")),this.http.get(p.N.api_AdnareRPM+"/api/StatisticalDashboard/get_statistical_dashboard_data?user_id="+a,{headers:this.headers}).pipe((0,d.V)(1e6),(0,g.K)(e=>401===e.status?(window.open(window.location.origin,"_self"),(0,o._)("Unauthorized")):(0,o._)(e)))}addBillingLogs(a){return this.headers.set("Authorization","Bearer "+localStorage.getItem("token")),this.http.post(p.N.api_AdnareRPM+"/api/ActionDashboard/add_billing_logs",JSON.stringify(a),{headers:this.headers}).pipe((0,d.V)(1e7),(0,g.K)(e=>401===e.status?(window.open(window.location.origin,"_self"),(0,o._)("Unauthorized")):(0,o._)(e)))}getPatientsWithoutDiagCode(a){this.headers.set("Authorization","Bearer "+localStorage.getItem("token"));let e=new h.LE;return e=a,this.http.get(p.N.api_AdnareRPM+"/api/ActionDashboard/sp_dashboard_patient_without_diagnosis_code",{headers:this.headers,params:e}).pipe((0,d.V)(1e6),(0,g.K)(i=>401===i.status?(window.open(window.location.origin,"_self"),(0,o._)("Unauthorized")):(0,o._)(i)))}getPatientsWithoutInsurance(a){this.headers.set("Authorization","Bearer "+localStorage.getItem("token"));let e=new h.LE;return e=a,this.http.get(p.N.api_AdnareRPM+"/api/ActionDashboard/sp_dashboard_patient_without_insurances",{headers:this.headers,params:e}).pipe((0,d.V)(1e6),(0,g.K)(i=>401===i.status?(window.open(window.location.origin,"_self"),(0,o._)("Unauthorized")):(0,o._)(i)))}getHomeDashboardData(a){return this.headers.set("Authorization","Bearer "+localStorage.getItem("token")),this.http.get(p.N.api_AdnareRPM+"/api/HomeDashboard/get_home_dashboard_data?user_id="+a,{headers:this.headers}).pipe((0,d.V)(1e6),(0,g.K)(e=>401===e.status?(window.open(window.location.origin,"_self"),(0,o._)("Unauthorized")):(0,o._)(e)))}getHomeDashboardHourlyPatientReadingCount(a){return this.headers.set("Authorization","Bearer "+localStorage.getItem("token")),this.http.get(p.N.api_AdnareRPM+"/api/HomeDashboard/get_home_dashboard_hourly_patient_readings?user_id="+a,{headers:this.headers}).pipe((0,d.V)(1e6),(0,g.K)(e=>401===e.status?(window.open(window.location.origin,"_self"),(0,o._)("Unauthorized")):(0,o._)(e)))}}return f.\u0275fac=function(a){return new(a||f)(A.LFG(h.eN))},f.\u0275prov=A.Yz7({token:f,factory:f.\u0275fac,providedIn:"root"}),f})()},77023:(U,b,r)=>{r.r(b),r.d(b,{PendingToEMRModule:()=>Y});var h=r(36895),o=r(62510),d=r(90433),g=r(46773),p=r(49671),A=r(4159),P=r.n(A),f=r(53583),S=r(35226),a=r.n(S),e=r(94650),i=r(91684),N=r(24339),Z=r(18284),I=r(50007),z=r(40269),O=r(31237),x=r(31453),J=r(80728),K=r(13255),L=r(70827);function V(u,w){if(1&u){const t=e.EpF();e.TgZ(0,"tr",26),e.NdJ("click",function(){const s=e.CHM(t).$implicit,c=e.oxw();return e.KtG(c.viewMonitoringDocument(s))}),e.TgZ(1,"td"),e._uU(2),e.qZA(),e.TgZ(3,"td"),e._uU(4),e.qZA(),e.TgZ(5,"td",27),e._uU(6),e.qZA(),e.TgZ(7,"td",27),e._uU(8),e.qZA(),e.TgZ(9,"td"),e._uU(10),e.qZA(),e.TgZ(11,"td"),e._uU(12),e.qZA(),e.TgZ(13,"td"),e._uU(14),e.ALo(15,"date"),e.qZA()()}if(2&u){const t=w.$implicit;e.xp6(2),e.Oqu(null==t?null:t.month),e.xp6(2),e.AsE("",null==t?null:t.patient_first_name," ",null==t?null:t.patient_last_name,""),e.xp6(1),e.Q6J("ngClass",t.days_of_readings>=16?"green":"red"),e.xp6(1),e.Oqu(null==t?null:t.days_of_readings),e.xp6(1),e.Q6J("ngClass",t.minutes>=20&&(null==t?null:t.days_of_readings)>=16?"green":"red"),e.xp6(1),e.Oqu(null==t?null:t.minutes),e.xp6(2),e.Oqu(null==t?null:t.cycle_number),e.xp6(2),e.Oqu(null==t?null:t.downloaded_by),e.xp6(2),e.Oqu(e.Dn7(15,10,null==t?null:t.downloaded_at,"short","IST"))}}function Q(u,w){if(1&u){const t=e.EpF();e.ynx(0),e.TgZ(1,"button",28),e.NdJ("click",function(){e.CHM(t);const l=e.oxw();return e.KtG(l.downloadReport())}),e._UZ(2,"span",29),e.qZA(),e.TgZ(3,"nz-layout",30)(4,"nz-content",31),e._UZ(5,"app-remote-monitoring-doc"),e.qZA()(),e.BQk()}}const F=function(){return{padding:"0px"}};let k=(()=>{class u{constructor(t,n,l,s){this.formBuilder=t,this.router=n,this.billingService=l,this.dashboardService=s,this.status="Pending",this.pageSizeOptionsBillingCycles=[10,20,30,40],this.pageSizeBillingCycles=10,this.pageIndexBillingCycles=1,this.showRemoteMonitoringDoc=!1,this.get_all_data=!1,this.format="yyyy/MM",this.statusDropdownData=[{id:"Current",name:"Current"},{id:"Billable",name:"Billable"},{id:"Pending",name:"Pending"},{id:"Non Billable",name:"Non Billable"},{id:"Completed",name:"Completed"},{id:"All",name:"All"}]}ngOnInit(){}onQueryBillingCycles(t){var n=this;return(0,p.Z)(function*(){n.prev_pageIndex=null!=n.savedParams?n.savedParams.pageIndex:null,n.savedParams=t;const{pageIndex:s,sort:c}=t,_=c.find(C=>null!==C.value);n.sortFieldBillingCycles=_&&_.key||null,n.sortOrderBillingCycles=_&&_.value||null,n.pageIndexBillingCycles=s,n.getBillingCycles()})()}getBillingCycles(){if(this.patient_name){const t=this.patient_name.split(" ");t.length>1?(this.patient_first_name=t[0].toLowerCase(),this.patient_last_name=t[t.length-1].toLowerCase()):this.patient_name=this.patient_name.toLowerCase()}this.search_model={user_id:localStorage.getItem("user_id"),sort_order:this.sortOrderBillingCycles??"",sort_coloumn:this.sortFieldBillingCycles??"",page_number:this.pageIndexBillingCycles,page_size:this.pageSizeBillingCycles,get_all_data:this.get_all_data,patient_first_name:this.patient_first_name??"",patient_last_name:this.patient_last_name??"",patient_name:this.patient_name??"",month:null===this.month_||null==this.month_||""==this.month_?"":this.convert(this.month_),status:null===this.status||null==this.status||""==this.status?null:this.status},this.dashboardService.getBillingCycles(this.search_model).subscribe(t=>{1==t.success?(this.BillingCycles=t.data,this.totalBillingCycles=t.data.length>0?t.data[0].total_record_count:0):a().fire({icon:"error",text:t.message})})}handleClear(){this.pageIndexBillingCycles=1,this.month_="",this.status="Pending",this.patient_name="",this.patient_first_name="",this.patient_last_name="",this.getBillingCycles()}handleCancel(){this.showRemoteMonitoringDoc=!1}search(){(null!=this.month_||null!=this.patient_name||null!=this.status)&&(this.pageIndexBillingCycles=1),this.getBillingCycles()}convert(t){const n=new Date(t),l=("0"+(n.getMonth()+1)).slice(-2),s=("0"+n.getDate()).slice(-2),c=("0"+n.getHours()).slice(-2),m=("0"+n.getHours()).slice(-2),_=("0"+n.getHours()).slice(-2);return[[n.getFullYear(),l,s].join("-"),[c,m,_].join(":")].join(" ")}downloadReport(){a().fire({icon:"warning",text:"Do you want to change the status to completed?",showDenyButton:!0,showCancelButton:!0,confirmButtonText:"Yes",denyButtonText:"No"}).then(t=>{if(t.isConfirmed)this.updateCompletedStatus(this.billingService.rpm_billing_data);else if(t.isDenied){let D=this.billingService.rpm_billing_data?.patient_first_name+" "+this.billingService.rpm_billing_data?.patient_last_name;var n=document.getElementById("remote_monitoring_doc").offsetWidth,l=document.getElementById("remote_monitoring_doc").offsetHeight,c=n+30,m=1.5*c+30,_=n,C=l,y=Math.ceil(l/m)-1;P()(document.getElementById("remote_monitoring_doc")).then(function(R){var B=R.toDataURL("image/jpeg",1),M=new f.ZP("p","pt",[c,m]);M.addImage(B,"JPG",15,15,_,C);for(var v=1;v<=y;v++)M.addPage([c,m],"p"),M.addImage(B,"JPG",15,-m*v+60,_,C);M.save("Patient Monitoring Document_"+D+".pdf")}),this.showRemoteMonitoringDoc=!1}})}updateCompletedStatus(t){this.search_model={user_id:localStorage.getItem("user_id"),rpm_care_plan_id:t.rpm_care_plan_id,patient_id:t.patient_id,month:t.month},this.billingService.updateCompleteStatus(this.search_model).subscribe(n=>{if(1==n.success){let R=this.billingService.rpm_billing_data?.patientFirstName+(this.billingService.rpm_billing_data?.patientMiddleName??"")+" "+this.billingService.rpm_billing_data?.patientLastName,B=this.billingService.rpm_billing_data?.rpm_billing_id;var l=document.getElementById("remote_monitoring_doc").offsetWidth,s=document.getElementById("remote_monitoring_doc").offsetHeight,m=l+30,_=1.5*m+30,C=l,y=s,D=Math.ceil(s/_)-1;P()(document.getElementById("remote_monitoring_doc")).then(function(M){var v=M.toDataURL("image/jpeg",1),T=new f.ZP("p","pt",[m,_]);T.addImage(v,"JPG",15,15,C,y);for(var E=1;E<=D;E++)T.addPage([m,_],"p"),T.addImage(v,"JPG",15,-_*E+60,C,y);T.save("Patient Monitoring Document_"+R+"_"+B+".pdf")}),this.showRemoteMonitoringDoc=!1,this.getBillingCycles()}else a().fire({icon:"error",text:n.message})})}viewMonitoringDocument(t){t.pending_emr=!0,this.showRemoteMonitoringDoc=!0,this.billingService.rpm_billing_data=t}}return u.\u0275fac=function(t){return new(t||u)(e.Y36(d.QS),e.Y36(o.F0),e.Y36(i.j),e.Y36(N.s))},u.\u0275cmp=e.Xpm({type:u,selectors:[["app-pending-to-emr"]],decls:46,vars:25,consts:[[1,"screen"],[1,"screen-header"],[1,"screen-name"],["ngbTooltip","Search","tooltipClass","custom-search-tooltip-color",1,"screen-header-btn","margin-right",3,"click"],[1,"fa","fa-search"],[1,"screen-header-btn","margin-right",3,"click"],[1,"screen-search-criteria-div"],[1,"row"],[1,"col-lg-3","col-md-2","col-sm-6","col-xs-6"],["type","text","placeholder","Patient Name","label","Patient Name","icon","fa fa-user","align_icon","left",3,"ngModel","ngModelChange"],["label","Month","format","MM/yyyy","placeholder","mm/yyyy","mode","month","icon","fa fa-calendar","align_icon","left",3,"ngModel","ngModelChange"],["label","Status","dropdown_placeholder","Status","bindLabel","name","icon","fa fa-book-medical","align_icon","left",3,"ngModel","dropdownListData","ngModelChange"],[1,"table-div"],[1,"ch-table",3,"nzPageSizeOptions","nzPageIndex","nzPageSize","nzFrontPagination","nzTotal","nzData","nzPageIndexChange","nzPageSizeChange","nzQueryParams"],["billingcycles",""],["nzColumnKey","month",3,"nzSortFn"],["nzColumnKey","patient_name",3,"nzSortFn"],["nzColumnKey","days_of_readings",3,"nzSortFn"],["nzColumnKey","minutes",3,"nzSortFn"],["nzColumnKey","cycle_number",3,"nzSortFn"],[3,"click",4,"ngFor","ngForOf"],[1,"total"],[3,"src"],[1,"total-span"],["nzTitle","Monitoring Document",3,"nzVisible","nzFooter","nzBodyStyle","nzWidth","nzVisibleChange","nzOnCancel"],[4,"nzModalContent"],[3,"click"],[3,"ngClass"],["aria-label","Download",1,"ant-modal-close","ng-tns-c251-16","ng-star-inserted",2,"top","19px","right","73px",3,"click"],[1,"fa","fa-download",2,"font-size","19px"],[1,"layout-height"],[1,"margin-top-25"]],template:function(t,n){if(1&t&&(e.TgZ(0,"div")(1,"div",0)(2,"div",1)(3,"div",2),e._uU(4," Pending To EMR "),e.qZA(),e.TgZ(5,"div")(6,"button",3),e.NdJ("click",function(){return n.search()}),e._UZ(7,"span",4),e.qZA(),e.TgZ(8,"button",5),e.NdJ("click",function(){return n.handleClear()}),e._uU(9,"Clear All"),e.qZA()()(),e.TgZ(10,"div",6)(11,"div",7)(12,"div",8)(13,"app-ad-custom-input",9),e.NdJ("ngModelChange",function(s){return n.patient_name=s}),e.qZA()(),e.TgZ(14,"div",8)(15,"app-ad-custom-date",10),e.NdJ("ngModelChange",function(s){return n.month_=s}),e.qZA()(),e.TgZ(16,"div",8)(17,"app-ad-custom-dropdown",11),e.NdJ("ngModelChange",function(s){return n.status=s}),e.qZA()()()(),e.TgZ(18,"div",12)(19,"nz-table",13,14),e.NdJ("nzPageIndexChange",function(s){return n.pageIndexBillingCycles=s})("nzPageSizeChange",function(s){return n.pageSizeBillingCycles=s})("nzQueryParams",function(s){return n.onQueryBillingCycles(s)}),e.TgZ(21,"thead")(22,"tr")(23,"th",15),e._uU(24,"Month"),e.qZA(),e.TgZ(25,"th",16),e._uU(26,"Patient Name"),e.qZA(),e.TgZ(27,"th",17),e._uU(28,"Days of Readings"),e.qZA(),e.TgZ(29,"th",18),e._uU(30,"Minutes"),e.qZA(),e.TgZ(31,"th",19),e._uU(32,"Cycle Number"),e.qZA(),e.TgZ(33,"th"),e._uU(34,"Completed By"),e.qZA(),e.TgZ(35,"th"),e._uU(36,"Completed At"),e.qZA()()(),e.TgZ(37,"tbody"),e.YNc(38,V,16,14,"tr",20),e.qZA()(),e.TgZ(39,"div",21),e._UZ(40,"img",22),e.ALo(41,"assetsSource"),e.TgZ(42,"span",23),e._uU(43),e.qZA()()()(),e.TgZ(44,"nz-modal",24),e.NdJ("nzVisibleChange",function(s){return n.showRemoteMonitoringDoc=s})("nzOnCancel",function(){return n.handleCancel()}),e.YNc(45,Q,6,0,"ng-container",25),e.qZA()()),2&t){const l=e.MAs(20);e.xp6(13),e.Q6J("ngModel",n.patient_name),e.xp6(2),e.Q6J("ngModel",n.month_),e.xp6(2),e.Q6J("ngModel",n.status)("dropdownListData",n.statusDropdownData),e.xp6(2),e.Q6J("nzPageSizeOptions",n.pageSizeOptionsBillingCycles)("nzPageIndex",n.pageIndexBillingCycles)("nzPageSize",n.pageSizeBillingCycles)("nzFrontPagination",!1)("nzTotal",n.totalBillingCycles)("nzData",n.BillingCycles),e.xp6(4),e.Q6J("nzSortFn",!0),e.xp6(2),e.Q6J("nzSortFn",!0),e.xp6(2),e.Q6J("nzSortFn",!0),e.xp6(2),e.Q6J("nzSortFn",!0),e.xp6(2),e.Q6J("nzSortFn",!0),e.xp6(7),e.Q6J("ngForOf",l.data),e.xp6(2),e.Q6J("src",e.lcZ(41,22,"total.png"),e.LSH),e.xp6(3),e.Oqu(n.totalBillingCycles),e.xp6(1),e.Q6J("nzVisible",n.showRemoteMonitoringDoc)("nzFooter",null)("nzBodyStyle",e.DdM(24,F))("nzWidth",875)}},dependencies:[h.mk,h.sg,Z.hw,Z.OK,I.du,I.Hf,z.N8,z.qD,z.Uo,z._C,z.Om,z.p0,z.$Z,d.JJ,d.On,g._L,O.y,x.m,J.v,K.j,h.uU,L.n],styles:[".red[_ngcontent-%COMP%]{background-color:#ffe2e2}.green[_ngcontent-%COMP%]{background-color:#dfffd8}"]}),u})();var j=r(91083),G=r(29193);const W=[{path:"",component:k}];let Y=(()=>{class u{}return u.\u0275fac=function(t){return new(t||u)},u.\u0275mod=e.oAB({type:u}),u.\u0275inj=e.cJS({imports:[h.ez,j.T,o.Bz.forChild(W),d.u5,d.UX,g.IJ,G.m,o.Bz]}),u})()}}]);