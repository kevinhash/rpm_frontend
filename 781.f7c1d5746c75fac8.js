"use strict";(self.webpackChunktemplate_rpm_adnare=self.webpackChunktemplate_rpm_adnare||[]).push([[781],{8781:(L,m,o)=>{o.r(m),o.d(m,{AddUserModule:()=>N});var p=o(6895),u=o(2510),_=o(1083),a=o(433),f=o(6773),g=o(9193),b=o(5226),n=o.n(b),e=o(4650),D=o(16),I=o(9195),y=o(9503),c=o(3679),h=o(6704),v=o(8521),Z=o(1237),C=o(728);function x(r,l){1&r&&(e.TgZ(0,"div",36),e._uU(1," Add User "),e.qZA())}function U(r,l){1&r&&(e.TgZ(0,"div",36),e._uU(1," Edit User "),e.qZA())}function A(r,l){1&r&&(e.TgZ(0,"div",3)(1,"div",19),e._uU(2," Provider Information "),e.qZA()())}function T(r,l){if(1&r){const i=e.EpF();e.TgZ(0,"div",20)(1,"div",13)(2,"div",14)(3,"app-ad-custom-dropdown",37),e.NdJ("onModelChange",function(s){e.CHM(i);const d=e.oxw();return e.KtG(d.onEnterpriseDropdownChange(s))}),e.qZA()(),e.TgZ(4,"div",14)(5,"app-ad-custom-dropdown",38),e.NdJ("onModelChange",function(s){e.CHM(i);const d=e.oxw();return e.KtG(d.onPracticeDropdownChange(s))}),e.qZA()()(),e.TgZ(6,"div",13)(7,"div",14),e._UZ(8,"app-ad-custom-dropdown",39),e.qZA(),e.TgZ(9,"div",14),e._UZ(10,"app-ad-custom-dropdown",40),e.qZA()(),e.TgZ(11,"div",13)(12,"div",14),e._UZ(13,"app-ad-custom-input",41),e.qZA(),e.TgZ(14,"div",14),e._UZ(15,"app-ad-custom-input",42),e.qZA()()()}if(2&r){const i=e.oxw();e.xp6(3),e.Q6J("validations",!(i.transition_border&&(null==i.form.value.enterprise_id||""==i.form.value.enterprise_id||null==i.form.value.enterprise_id)))("dropdownListData",i.enterpriseData),e.xp6(2),e.Q6J("validations",!(i.transition_border&&(null==i.form.value.default_practice_id||""==i.form.value.default_practice_id||null==i.form.value.default_practice_id)))("dropdownListData",i.practiceDropdownData),e.xp6(3),e.Q6J("validations",!(i.transition_border&&(null==i.form.value.default_location_id||""==i.form.value.default_location_id||null==i.form.value.default_location_id)))("dropdownListData",i.locationDropdownData),e.xp6(2),e.Q6J("validations",!(i.transition_border&&(null==i.form.value.provider_type_id||""==i.form.value.provider_type_id||null==i.form.value.provider_type_id)))("dropdownListData",i.providerTypesData),e.xp6(3),e.Q6J("validations",!(i.transition_border&&(null==i.form.value.npi||""==i.form.value.npi||null==i.form.value.npi))),e.xp6(2),e.Q6J("validations",!(i.transition_border&&(null==i.form.value.tax_id||""==i.form.value.tax_id||null==i.form.value.tax_id)))}}function w(r,l){if(1&r&&(e.TgZ(0,"div",21),e._UZ(1,"app-ad-custom-input",43),e.qZA()),2&r){const i=e.oxw();e.xp6(1),e.Q6J("validations",!(i.transition_border&&null!=i.form.value.phone_number&&null!=i.form.value.phone_number&&""!=i.form.value.phone_number&&i.form.value.phone_number.length>0&&i.form.value.phone_number.length<10))("mask",i.mask)}}const z=[{path:"",component:(()=>{class r{constructor(i,t,s,d,k){this.formBuilder=i,this.router=t,this.userService=s,this.providerService=d,this.patientService=k,this.mask="(000) 000-0000",this.physician=!1,this.disableInput=!1,this.checkFormValid=!0,this.transition_border=!1,this.buildForm()}ngOnInit(){this.getDataRoleDropdown(),this.getMenuRoleDropdown(),this.getEnterpriseSearchDropdown(),this.getPracticesDropdown(),this.getLocationsDropdown(),this.getProviderTypeDropdown(),this.method=this.userService.method,null!=this.userService.user_id&&null!=this.userService.user_id&&this.getUserInfo()}getUserInfo(){this.userService.getUserInfoById(this.userService.user_id).subscribe(i=>{1==i.success?(i.data.is_active=i.data.is_active.toString(),null!=i.data.tax_id&&null!=i.data.tax_id&&(i.data.tax_id=i.data.tax_id.toString()),this.dataRoleData.filter(s=>"Physician"==s.name||"Provider"==s.name)[0]?.id==i.data.data_role_id&&(this.physician=!0),this.form.patchValue(i.data)):n().fire({icon:"error",text:i.message})})}getDataRoleDropdown(){this.patientService.getDataRoleDropdownData().subscribe(i=>{1==i.success?this.dataRoleData=i.data:n().fire({icon:"error",text:i.message})})}getMenuRoleDropdown(){this.patientService.getMenuRoleDropdownData().subscribe(i=>{1==i.success?this.menuRoleData=i.data:n().fire({icon:"error",text:i.message})})}getEnterpriseSearchDropdown(){this.userId=localStorage.getItem("user_id"),this.patientService.getActiveEnterpriseDropdownData(this.userId).subscribe(i=>{1==i.success?(this.enterpriseData=i.data,1==this.enterpriseData.length&&"update"!==this.method&&this.form.controls.enterprise_id.setValue(this.enterpriseData[0].id)):n().fire({icon:"error",text:i.message})})}addUser(){this.checkFormValid=!0,this.transition_border=!0,null!=this.form.value.npi&&this.form.value.npi.length<10?n().fire({icon:"error",text:"NPI must consist of atleast 10 digits."}):null!=this.form.value.zip_ext&&this.form.value.zip_ext.length<4?n().fire({icon:"error",text:"Zip Extension must consist of atleast 4 digits."}):null!=this.form.value.taxonomy&&this.form.value.taxonomy.length<10?n().fire({icon:"error",text:"Taxonomy Extension must consist of atleast 10 digits/charachters."}):null!=this.form.value.zip&&this.form.value.zip.length<5?n().fire({icon:"error",text:"Zip must consist of atleast 5 digits."}):null!=this.form.value.tax_id&&this.form.value.tax_id.length>0&&this.form.value.tax_id.length<9?n().fire({icon:"error",text:"Tax Id must consist of atleast 9 digits."}):null!=this.form.value.is_active?this.form.valid&&this.checkFormValid?(this.addUserData=this.physician?{user_id:this.userService.user_id,created_by:localStorage.getItem("user_id"),tax_id:this.form.value.tax_id,npi:this.form.value.npi,last_name:this.form.value.last_name,middle_name:this.form.value.middle_name,first_name:this.form.value.first_name,address_1:this.form.value.address_1,address_2:this.form.value.address_2,state:this.form.value.state,city:this.form.value.city,zip:this.form.value.zip,zip_ext:this.form.value.zip_ext,is_active:this.form.value.is_active,data_role_id:this.form.value.data_role_id,menu_role_id:this.form.value.menu_role_id,enterprise_id:this.form.value.enterprise_id,default_location_id:this.form.value.default_location_id,default_practice_id:this.form.value.default_practice_id,provider_type_id:this.form.value.provider_type_id,phone_number:this.form.value.phone_number,email:this.form.value.email}:{created_by:localStorage.getItem("user_id"),user_id:this.userService.user_id,last_name:this.form.value.last_name,middle_name:this.form.value.middle_name,first_name:this.form.value.first_name,address_1:this.form.value.address_1,address_2:this.form.value.address_2,state:this.form.value.state,city:this.form.value.city,zip:this.form.value.zip,zip_ext:this.form.value.zip_ext,is_active:this.form.value.is_active,data_role_id:this.form.value.data_role_id,menu_role_id:this.form.value.menu_role_id,email:this.form.value.email},null!=this.userService.user_id&&null!=this.userService.user_id?this.userService.updateUser(this.addUserData).subscribe(i=>{1==i.success?(n().fire({icon:"success",text:i.message}),this.buildForm(),this.router.navigate(["/users-search"])):n().fire({icon:"error",text:i.message})}):this.userService.addUser(this.addUserData).subscribe(i=>{1==i.success?(n().fire({icon:"success",text:i.message}),this.buildForm(),this.router.navigate(["/users-search"])):n().fire({icon:"error",text:i.message})})):n().fire({icon:"error",text:"Check all required feilds."}):n().fire({icon:"error",text:"Select Active or Inactive"})}getPracticesDropdown(){this.userId=localStorage.getItem("user_id"),this.patientService.getPracticesDropdownData(this.userId).subscribe(i=>{1==i.success?(this.practiceData=i.data,null!=this.form.value.enterprise_id&&null!=this.form.value.enterprise_id&&(this.practiceDropdownData=this.practiceData.filter(t=>t.enterprise_id==this.form.value.enterprise_id))):n().fire({icon:"error",text:i.message})})}getLocationsDropdown(){this.userId=localStorage.getItem("user_id"),this.patientService.getLocationDropdownData(this.userId).subscribe(i=>{1==i.success?(this.locationData=i.data,null!=this.form.value.enterprise_id&&null!=this.form.value.enterprise_id&&(this.locationDropdownData=this.locationData.filter(t=>t.enterprise_id==this.form.value.enterprise_id))):n().fire({icon:"error",text:i.message})})}onEnterpriseDropdownChange(i){this.form.controls.default_practice_id.setValue(null),this.form.controls.default_location_id.setValue(null),this.locationDropdownData=null,this.practiceDropdownData=null==this.practiceData?[]:this.practiceData.filter(t=>t.enterprise_id==i.id)}onPracticeDropdownChange(i){this.form.controls.default_location_id.setValue(null),null!=i&&(this.locationDropdownData=null==this.locationData?[]:this.locationData.filter(t=>t.practice_id==i.id&&t.enterprise_id==this.form.value.enterprise_id))}getProviderTypeDropdown(){this.providerService.getProviderTypeDropdown().subscribe(i=>{1==i.success?this.providerTypesData=i.data:n().fire({icon:"error",text:i.message})})}onDataRoleDropdownChange(i){"Physician"==i.name||"Provider"==i.name?(this.physician=!0,"create"==this.method&&this.reloadFormData()):(this.physician&&"create"==this.method&&this.reloadFormData(),this.physician=!1)}reloadFormData(){this.form.controls.first_name.setValue(null),this.form.controls.last_name.setValue(null),this.form.controls.middle_name.setValue(null),this.form.controls.address_1.setValue(null),this.form.controls.address_2.setValue(null),this.form.controls.email.setValue(null),this.form.controls.state.setValue(null),this.form.controls.city.setValue(null),this.form.controls.npi.setValue(null),this.form.controls.tax_id.setValue(null),this.form.controls.zip.setValue(null),this.form.controls.zip_ext.setValue(null),this.form.controls.data_role.setValue(null),this.form.controls.default_practice_id.setValue(null),this.form.controls.default_location_id.setValue(null),this.form.controls.provider_type_id.setValue(null),this.form.controls.phone_number.setValue(null),this.form.controls.is_active.setValue("1")}cancel(){this.physician=!1,this.userService.user_id=null,this.router.navigate(["/users-search"]),this.buildForm()}clear(){this.physician=!1,this.buildForm()}buildForm(){this.form=this.formBuilder.group({first_name:[{value:null,disabled:this.disableInput},[a.kI.required]],last_name:[{value:null,disabled:this.disableInput},[a.kI.required]],middle_name:[{value:null,disabled:this.disableInput}],address_1:[{value:null,disabled:this.disableInput},[a.kI.required]],email:[{value:null,disabled:this.disableInput},[a.kI.required,a.kI.email,a.kI.minLength(6),a.kI.maxLength(50),a.kI.pattern("^[a-z0-9._%+-]+@[a-z0-9.-]+\\.[a-z]{2,4}$")]],address_2:[{value:null,disabled:this.disableInput}],state:[{value:null,disabled:this.disableInput},[a.kI.required]],city:[{value:null,disabled:this.disableInput},[a.kI.required]],npi:[{value:null,disabled:this.disableInput},1==this.physician?[a.kI.required,a.kI.minLength(10)]:""],tax_id:[{value:null,disabled:this.disableInput},a.kI.minLength(9)],zip:[{value:null,disabled:this.disableInput},[a.kI.required,a.kI.minLength(5)]],zip_ext:[{value:null,disabled:this.disableInput},[a.kI.required,a.kI.minLength(4)]],data_role_id:[{value:null,disabled:this.disableInput},[a.kI.required]],menu_role_id:[{value:null,disabled:this.disableInput},[a.kI.required]],enterprise_id:[{value:null,disabled:this.disableInput},1==this.physician?[a.kI.required]:""],default_practice_id:[{value:null,disabled:this.disableInput},1==this.physician?[a.kI.required]:""],default_location_id:[{value:null,disabled:this.disableInput},1==this.physician?[a.kI.required]:""],provider_type_id:[{value:null,disabled:this.disableInput},1==this.physician?[a.kI.required]:""],phone_number:[{value:null,disabled:this.disableInput},[a.kI.minLength(10)]],is_active:[{value:"1",disabled:this.disableInput},[a.kI.required]]})}}return r.\u0275fac=function(i){return new(i||r)(e.Y36(a.QS),e.Y36(u.F0),e.Y36(D.K),e.Y36(I.H),e.Y36(y.e))},r.\u0275cmp=e.Xpm({type:r,selectors:[["app-add-user"]],decls:58,vars:18,consts:[["nz-row","",1,"add-device"],["nz-form","",1,"login-form",3,"formGroup"],[1,"formBox-full","viewMinWidth"],[1,"screen-header"],["class","screen-name",4,"ngIf"],[1,"button-container"],["ngbTooltip","Clear","tooltipClass","custom-search-tooltip-color",1,"screen-header-btn","margin-left","margin-right",3,"click"],["ngbTooltip","Save","tooltipClass","custom-search-tooltip-color",1,"screen-header-btn","margin-left","margin-right",3,"click"],[1,"fa","fa-floppy-disk","icon-padding"],["ngbTooltip","Cancel","tooltipClass","custom-search-tooltip-color",1,"screen-header-btn","margin-right",3,"click"],[1,"fa","fa-xmark","icon-padding"],["nz-col","",1,"screen-criteria"],[1,"main"],[1,"row"],[1,"col-lg-3","col-md-3","col-lg-5","col-lg-6"],["label","Menu Role *","formControlName","menu_role_id","dropdown_placeholder","Menu Role","bindLabel","name",3,"validations","dropdownListData"],["label","Data Role *","formControlName","data_role_id","dropdown_placeholder","Data Role","bindLabel","name",3,"validations","dropdownListData","onModelChange"],["class","screen-header",4,"ngIf"],["class","sections",4,"ngIf"],[1,"screen-name","sub-heading"],[1,"sections"],[1,"col-lg-2","col-md-2","col-lg-3","col-lg-4"],["formControlName","first_name","type","text","placeholder","First Name","label","First Name *","icon","fa fa-user","align_icon","left",3,"validations"],["formControlName","middle_name","type","text","placeholder","Middle Name","label","Middle Name","icon","fa fa-user","align_icon","left"],["formControlName","last_name","type","text","placeholder","Last Name","label","Last Name *","icon","fa fa-user","align_icon","left",3,"validations"],["type","text","placeholder","Address Line 1","label","Address Line 1 *","formControlName","address_1","icon","fa fa-address-card","align_icon","left",3,"validations"],["type","text","placeholder","Address Line 2","label","Address Line 2","formControlName","address_2","icon","fa fa-address-card","align_icon","left"],["type","text","placeholder","Email","label","Email *","formControlName","email","error_message","Enter valid email.","icon","fa fa-address-card","align_icon","left",3,"validations"],["type","text","maxlength","5","onkeypress","return /[0-9\\-]/i.test(event.key)","placeholder","ZIP","label","ZIP *","formControlName","zip","icon","fa fa-location-crosshairs","align_icon","left",3,"validations"],["type","text","maxlength","4","onkeypress","return /[0-9\\-]/i.test(event.key)","placeholder","ZIP Ext","label","ZIP Ext *","formControlName","zip_ext","icon","fa fa-location-crosshairs","align_icon","left",3,"validations"],["type","text","placeholder","State","label","State *","icon","fa fa-flag","formControlName","state","align_icon","left",3,"validations"],["placeholder","City","label","City *","icon","fa fa-building","formControlName","city","align_icon","left",3,"validations"],["class","col-lg-2 col-md-2 col-lg-3 col-lg-4",4,"ngIf"],["formControlName","is_active"],["nz-radio","","nzValue","1"],["nz-radio","","nzValue","0"],[1,"screen-name"],["label","Entity *","formControlName","enterprise_id","dropdown_placeholder","Entity","bindLabel","name","align_icon","left","icon","fa fa-square-plus",3,"validations","dropdownListData","onModelChange"],["label","Practice *","formControlName","default_practice_id","dropdown_placeholder","Practice","bindLabel","name","icon","fa fa-square-plus","align_icon","left",3,"validations","dropdownListData","onModelChange"],["label","Location*","formControlName","default_location_id","dropdown_placeholder","Location","bindLabel","name","icon","fa fa-location-dot","align_icon","left",3,"validations","dropdownListData"],["label","Provider Type *","formControlName","provider_type_id","dropdown_placeholder","Provider Type","bindLabel","name","align_icon","left",3,"validations","dropdownListData"],["formControlName","npi","type","text","maxlength","10","onkeypress","return /[0-9\\-]/i.test(event.key)","placeholder","NPI","label","NPI *","icon","fa fa-user","align_icon","left",3,"validations"],["formControlName","tax_id","maxlength","9","onkeypress","return /[0-9\\-]/i.test(event.key)","type","text","placeholder","Tax ID","label","Tax ID","icon","fa fa-user","align_icon","left",3,"validations"],["type","text","placeholder","Phone No","maxlength","14","error_message","Phone No must consist of atleast 10 digits.","onkeypress","return /[0-9\\-]/i.test(event.key)","label","Phone No","formControlName","phone_number","icon","fa fa-mobile-screen","align_icon","left",3,"validations","mask"]],template:function(i,t){1&i&&(e.TgZ(0,"div",0)(1,"form",1)(2,"div",2)(3,"div",3),e.YNc(4,x,2,0,"div",4),e.YNc(5,U,2,0,"div",4),e.qZA(),e.TgZ(6,"div",5)(7,"button",6),e.NdJ("click",function(){return t.clear()}),e._uU(8," Clear "),e.qZA(),e.TgZ(9,"button",7),e.NdJ("click",function(){return t.addUser()}),e._UZ(10,"i",8),e.qZA(),e.TgZ(11,"button",9),e.NdJ("click",function(){return t.cancel()}),e._UZ(12,"i",10),e.qZA()(),e.TgZ(13,"div",11)(14,"div",12)(15,"div",13)(16,"div",14),e._UZ(17,"app-ad-custom-dropdown",15),e.qZA(),e.TgZ(18,"div",14)(19,"app-ad-custom-dropdown",16),e.NdJ("onModelChange",function(d){return t.onDataRoleDropdownChange(d)}),e.qZA()()()(),e.YNc(20,A,3,0,"div",17),e.YNc(21,T,16,10,"div",18),e.TgZ(22,"div",3)(23,"div",19),e._uU(24," Personal Information "),e.qZA()(),e.TgZ(25,"div",20)(26,"div",13)(27,"div",21),e._UZ(28,"app-ad-custom-input",22),e.qZA(),e.TgZ(29,"div",21),e._UZ(30,"app-ad-custom-input",23),e.qZA(),e.TgZ(31,"div",21),e._UZ(32,"app-ad-custom-input",24),e.qZA()(),e.TgZ(33,"div",13)(34,"div",21),e._UZ(35,"app-ad-custom-input",25),e.qZA(),e.TgZ(36,"div",21),e._UZ(37,"app-ad-custom-input",26),e.qZA(),e.TgZ(38,"div",21),e._UZ(39,"app-ad-custom-input",27),e.qZA()(),e.TgZ(40,"div",13)(41,"div",21),e._UZ(42,"app-ad-custom-input",28),e.qZA(),e.TgZ(43,"div",21),e._UZ(44,"app-ad-custom-input",29),e.qZA(),e.TgZ(45,"div",21),e._UZ(46,"app-ad-custom-input",30),e.qZA()(),e.TgZ(47,"div",13)(48,"div",21),e._UZ(49,"app-ad-custom-input",31),e.qZA(),e.YNc(50,w,2,2,"div",32),e.TgZ(51,"div",21)(52,"nz-form-item")(53,"nz-radio-group",33)(54,"label",34),e._uU(55,"Active"),e.qZA(),e.TgZ(56,"label",35),e._uU(57,"Inactive"),e.qZA()()()()()()()()()()),2&i&&(e.xp6(1),e.Q6J("formGroup",t.form),e.xp6(3),e.Q6J("ngIf","create"==t.method),e.xp6(1),e.Q6J("ngIf","update"==t.method),e.xp6(12),e.Q6J("validations",!(t.transition_border&&(null==t.form.value.menu_role_id||""==t.form.value.menu_role_id||null==t.form.value.menu_role_id)))("dropdownListData",t.menuRoleData),e.xp6(2),e.Q6J("validations",!(t.transition_border&&(null==t.form.value.data_role_id||""==t.form.value.data_role_id||null==t.form.value.data_role_id)))("dropdownListData",t.dataRoleData),e.xp6(1),e.Q6J("ngIf",t.physician),e.xp6(1),e.Q6J("ngIf",t.physician),e.xp6(7),e.Q6J("validations",!(t.transition_border&&(null==t.form.value.first_name||""==t.form.value.first_name||null==t.form.value.first_name))),e.xp6(4),e.Q6J("validations",!(t.transition_border&&(null==t.form.value.last_name||""==t.form.value.last_name||null==t.form.value.last_name))),e.xp6(3),e.Q6J("validations",!(t.transition_border&&(null==t.form.value.address_1||""==t.form.value.address_1||null==t.form.value.address_1))),e.xp6(4),e.Q6J("validations",!(t.transition_border&&(null==t.form.value.email||""==t.form.value.email||0==t.form.controls.email.valid))),e.xp6(3),e.Q6J("validations",!(t.transition_border&&(null==t.form.value.zip||""==t.form.value.zip||null==t.form.value.zip))),e.xp6(2),e.Q6J("validations",!(t.transition_border&&(null==t.form.value.zip_ext||""==t.form.value.zip_ext||null==t.form.value.zip_ext))),e.xp6(2),e.Q6J("validations",!(t.transition_border&&(null==t.form.value.state||""==t.form.value.state||null==t.form.value.state))),e.xp6(3),e.Q6J("validations",!(t.transition_border&&(null==t.form.value.city||""==t.form.value.city||null==t.form.value.city))),e.xp6(1),e.Q6J("ngIf",t.physician))},dependencies:[p.O5,c.t3,c.SK,h.Lr,h.Nx,v.Of,v.Dg,a._Y,a.JJ,a.JL,a.nD,a.sg,a.u,f._L,Z.y,C.v],styles:[".main[_ngcontent-%COMP%]{background-color:#e8dbfa;border-radius:10px;padding:2% 4% 2% 2%;margin:25px}.sections[_ngcontent-%COMP%]{background-color:#e8dbfa;border-radius:0 10px 10px;padding:2% 4% 2% 2%;margin:25px}.screen-criteria[_ngcontent-%COMP%]{background-color:#fff;border:1px solid rgba(185,136,255,.5)}.add-provider[_ngcontent-%COMP%]{margin-left:5%;margin-top:5%}.error-message[_ngcontent-%COMP%]{position:absolute;left:13px;bottom:-13px;font-size:10px;color:#bd123e;line-height:1;font-weight:700}"]}),r})()}];let N=(()=>{class r{}return r.\u0275fac=function(i){return new(i||r)},r.\u0275mod=e.oAB({type:r}),r.\u0275inj=e.cJS({imports:[p.ez,_.T,u.Bz.forChild(z),a.u5,a.UX,f.IJ,g.m,u.Bz]}),r})()}}]);