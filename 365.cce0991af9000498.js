"use strict";(self.webpackChunktemplate_rpm_adnare=self.webpackChunktemplate_rpm_adnare||[]).push([[365],{5365:(H,m,i)=>{i.r(m),i.d(m,{LocationSearchModule:()=>q});var g=i(6895),_=i(2510),z=i(1083),u=i(433),p=i(6773),C=i(9193),f=i(9671),L=i(8938),b=i(5226),c=i.n(b),S=i(4641),T=i(8493),e=i(4650),D=i(9503),x=i(1157),M=i(7044),A=i(3679),P=i(6704),y=i(7423),v=i(8521),w=i(1243),d=i(269),I=i(1237),U=i(728),J=i(827);const N=function(){return{standalone:!0}};function O(s,l){if(1&s){const n=e.EpF();e.TgZ(0,"tbody")(1,"tr"),e.ynx(2),e.TgZ(3,"td"),e._uU(4),e.qZA(),e.TgZ(5,"td"),e._uU(6),e.qZA(),e.TgZ(7,"td"),e._uU(8),e.qZA(),e.TgZ(9,"td"),e._uU(10),e.qZA(),e.TgZ(11,"td"),e._uU(12),e.qZA(),e.TgZ(13,"td")(14,"div"),e.ynx(15),e.TgZ(16,"nz-switch",48),e.NdJ("ngModelChange",function(r){const o=e.CHM(n).$implicit;return e.KtG(o.active_switch=r)}),e.qZA(),e.BQk(),e.qZA()(),e.TgZ(17,"td")(18,"div",49)(19,"i",50),e.NdJ("click",function(){const a=e.CHM(n).$implicit,o=e.oxw();return e.KtG(o.deleteLocation(a))}),e.qZA(),e.TgZ(20,"i",51),e.NdJ("click",function(){const a=e.CHM(n).$implicit,o=e.oxw();return e.KtG(o.editLocation(a))}),e.qZA()()(),e.BQk(),e.qZA()()}if(2&s){const n=l.$implicit;e.xp6(4),e.Oqu(n.enterprise_name),e.xp6(2),e.Oqu(n.practice),e.xp6(2),e.Oqu(n.location_name),e.xp6(2),e.Oqu(n.place_of_service),e.xp6(2),e.Oqu(n.npi),e.xp6(4),e.Q6J("ngModel",n.active_switch)("ngModelOptions",e.DdM(8,N))("nzDisabled",!0)}}function Q(s,l){1&s&&e._UZ(0,"tbody")}S.vfs=T.I.vfs;const F=[{path:"",component:(()=>{class s{constructor(n,t,r,a){this.patientService=n,this.locationService=t,this.router=r,this.datepipe=a,this.pageIndex=1,this.pageSize=10,this.pageSizeOptions=[10,15,20,25,30],this.get_all_data=!1,this.changePageSize=10}ngOnInit(){this.is_active="",this.getEnterpriseSearchDropdown(),this.getPOSDropdown(),this.getPracticesSearchDropdown()}onEnterpriseDropdownChange(n){this.practice=null,this.practiceDropdownData=null==this.practiceData?[]:this.practiceData.filter(t=>t.enterprise_id==n.id)}getPracticesSearchDropdown(){this.userId=localStorage.getItem("user_id"),this.patientService.getPracticesDropdownData(this.userId).subscribe(n=>{1==n.success?(this.practiceData=n.data,null!=this.enterprise&&null!=this.enterprise&&(this.practiceDropdownData=this.practiceData.filter(t=>t.enterprise_id==this.enterprise))):c().fire({icon:"error",text:n.message})})}buildTableBody(n,t){var r=[];return r.push(t),n.forEach(a=>{var o=[];t.forEach(function(Z){o.push(a[Z.text])}),r.push(o)}),r}table(n,t){return{table:{headerRows:1,body:this.buildTableBody(n,t)}}}downloadAllLocationData(n){var t=this;return(0,f.Z)(function*(){t.search_model={user_id:localStorage.getItem("user_id"),sort_order:t.sortOrder??"",sort_coloumn:t.sortField??"",page_number:t.pageIndex,page_size:t.pageSize,enterprise_id:t.enterprise??"",practice_id:t.practice??"",pos_id:t.posId??"",npi:t.npi??"",is_active:t.is_active??"",location_name:t.locationName??"",get_all_data:!0},t.locationService.getLocations(t.search_model).subscribe(r=>{1==r.success?(t.locationExportData=r.data.map(a=>({Entity:a.enterprise_name,Practice:a.practice.trim(),"Location Name":a.location_name.trim(),POS:a.place_of_service,NPI:a.npi})),"pdf"==n&&t.exportToPdf(t.locationExportData),"csv"==n&&t.exportToCsv(t.locationExportData)):c().fire({icon:"error",text:r.message})})})()}downloadLocationData(n){null!=this.locations&&0!=this.locations.length?this.downloadAllLocationData(n):c().fire({icon:"error",text:"No Record to Download"})}exportToCsv(n){new L.Sv(n,"Locations",{fieldSeparator:",",quoteStrings:'"',decimalseparator:".",title:"",useBom:!0,noDownload:!1,headers:["Entity","Practice","Location Name","POS","NPI"]})}exportToPdf(n){var r={content:[{text:"Locations",fontSize:13,bold:!0},this.table(n,[{text:"Entity",style:"tableHeader"},{text:"Practice",style:"tableHeader"},{text:"Location Name",style:"tableHeader"},{text:"POS",style:"tableHeader"},{text:"NPI",style:"tableHeader"}])],defaultStyle:{fontSize:13},styles:{tableHeader:{bold:!0,fontSize:13,color:"white",fillColor:"#4A2D73"}}};S.createPdf(r).download("Locations.pdf")}getEnterpriseSearchDropdown(){this.userId=localStorage.getItem("user_id"),this.patientService.getActiveEnterpriseDropdownData(this.userId).subscribe(n=>{1==n.success?(this.enterpriseData=n.data,1==this.enterpriseData.length&&(this.enterprise=this.enterpriseData[0].id)):c().fire({icon:"error",text:n.message})})}getPOSDropdown(){this.locationService.getPOSDropdown().subscribe(n=>{1==n.success?this.posData=n.data:c().fire({icon:"error",text:n.message})})}onQueryParamsChange(n){var t=this;return(0,f.Z)(function*(){t.prev_pageIndex=null!=t.savedParams?t.savedParams.pageIndex:null,t.savedParams=n;const{pageIndex:a,sort:o}=n,h=o.find(E=>null!==E.value);t.sortField=h&&h.key||null,t.sortOrder=h&&h.value||null,t.pageIndex=a,(null!=t.locations&&null!=t.sortField&&null!=t.sortOrder||null!=t.prev_pageIndex&&t.prev_pageIndex!=t.pageIndex||t.changePageSize!=t.pageSize)&&t.getLocations(),t.changePageSize=t.pageSize})()}getLocations(){this.search_model={user_id:localStorage.getItem("user_id"),sort_order:this.sortOrder??"",sort_coloumn:this.sortField??"",page_number:this.pageIndex,page_size:this.pageSize,enterprise_id:this.enterprise??"",practice_id:this.practice??"",pos_id:this.posId??"",npi:this.npi??"",is_active:this.is_active??"",location_name:this.locationName??"",get_all_data:this.get_all_data},this.locationService.getLocations(this.search_model).subscribe(n=>{1==n.success?(this.locations=n.data,this.totalLocation=n.data.length>0?n.data[0].total_record_count:0):c().fire({icon:"error",text:n.message})})}search(){this.pageIndex=1,this.getLocations()}handleClear(){this.locationName="",this.npi="",this.practice=null,this.posId=null,this.is_active="",this.enterprise=void 0,this.getLocations()}addLocation(){this.router.navigate(["/add-location"]),this.locationService.method="create"}editLocation(n){this.locationService.method="update",this.locationService.location_id=n.location_id,this.router.navigate(["/add-location"])}deleteLocation(n){this.locationService.deleteLocation(n.location_id).subscribe(t=>{1==t.success?(c().fire({icon:"success",text:t.message}),this.pageIndex=1,this.getLocations()):c().fire({icon:"error",text:t.message})})}}return s.\u0275fac=function(n){return new(n||s)(e.Y36(D.e),e.Y36(x.a),e.Y36(_.F0),e.Y36(g.uU))},s.\u0275cmp=e.Xpm({type:s,selectors:[["app-location-search"]],decls:102,vars:45,consts:[[1,"screen"],[1,"screen-header"],[1,"screen-name"],["ngbTooltip","Search","tooltipClass","custom-search-tooltip-color",1,"screen-header-btn","margin-right",3,"click"],[1,"fa","fa-search"],[1,"screen-header-btn","margin-right",3,"click"],[1,"pipe"],["ngbDropdown","",1,"d-inline-block"],["Report","ngbDropdown"],["id","dropdownManual",1,"screen-header-btn","margin-right",3,"focus"],[3,"src"],[1,"pipe-inside-btn"],[1,"fa","fa-chevron-down"],["ngbDropdownMenu","","aria-labelledby","dropdownManual"],["ngbDropdownItem","",1,"screen-header-btn","margin-right"],["Export","ngbDropdown"],["id","dropdownManual2",1,"screen-header-btn","margin-right",3,"focus"],["ngbDropdownMenu","","aria-labelledby","dropdownManual2"],["ngbDropdownItem","",1,"screen-header-btn","margin-right",3,"click"],[1,"fa","fa-file-csv"],[1,"fa","fa-file-pdf"],[1,"screen-header-btn",3,"click"],[1,"screen-search-criteria-div"],[1,"row"],[1,"col-lg-3","col-md-3","col-sm-6","col-xs-6"],["label","Entity","dropdown_placeholder","Entity","bindLabel","name","icon","fa fa-square-plus","align_icon","left",3,"ngModel","dropdownListData","ngModelChange","onModelChange"],["label","Practice","dropdown_placeholder","Practice","bindLabel","name","icon","fa fa-square-plus","align_icon","left",3,"ngModel","dropdownListData","ngModelChange"],["label","Place Of Service","dropdown_placeholder","Place Of Service","bindLabel","name","icon","fa fa-shield","align_icon","left",3,"ngModel","dropdownListData","ngModelChange"],["type","text","accesskey","L","placeholder","Location Name","label","Location Name","icon","fa fa-shield","align_icon","left",3,"ngModel","ngModelChange"],["type","text","accesskey","N","placeholder","NPI","label","NPI","icon","fa fa-shield","align_icon","left",3,"ngModel","ngModelChange"],[1,"col-lg-3","col-md-3","col-lg-3","col-md-5","margin-top-left"],[3,"ngModel","ngModelChange"],["nz-radio","","nzValue","1"],["nz-radio","","nzValue","0"],["nz-radio","","nzValue",""],[1,"table-div"],["nzShowSizeChanger","",1,"ch-table",3,"nzPageSizeOptions","nzFrontPagination","nzTotal","nzPageIndex","nzPageSize","nzData","nzQueryParams","nzPageIndexChange","nzPageSizeChange"],["nzTable","","sortTable","","filterTable",""],["nzColumnKey","enterprise",3,"nzSortFn"],["nzColumnKey","practice",3,"nzSortFn"],["nzColumnKey","location_name",3,"nzSortFn"],["nzColumnKey","pos",3,"nzSortFn"],["nzColumnKey","npi",3,"nzSortFn"],["nzColumnKey","active",3,"nzSortFn"],[4,"ngFor","ngForOf"],[4,"ngIf"],[1,"total"],[1,"total-span"],[1,"rpm-switch",3,"ngModel","ngModelOptions","nzDisabled","ngModelChange"],[1,"table-icon-container"],["nz-icon","","nzType","delete","nzTheme","outline","nzTooltipPlacement","top","ngbTooltip","Delete",1,"table-coloumn-icons",3,"click"],["nz-icon","","nzType","edit","nzTheme","outline","nzTooltipPlacement","top","ngbTooltip","Edit",1,"table-coloumn-icons",3,"click"]],template:function(n,t){if(1&n){const r=e.EpF();e.TgZ(0,"div",0)(1,"div",1)(2,"div",2),e._uU(3," Location Search "),e.qZA(),e.TgZ(4,"div")(5,"button",3),e.NdJ("click",function(){return t.search()}),e._UZ(6,"span",4),e.qZA(),e.TgZ(7,"button",5),e.NdJ("click",function(){return t.handleClear()}),e._uU(8,"Clear All"),e.qZA(),e._UZ(9,"span",6),e.TgZ(10,"div",7,8)(12,"button",9),e.NdJ("focus",function(){e.CHM(r);const o=e.MAs(11);return e.KtG(o.open())}),e._UZ(13,"img",10),e.ALo(14,"assetsSource"),e._uU(15," Report "),e._UZ(16,"span",11)(17,"span",12),e.qZA(),e.TgZ(18,"div",13)(19,"button",14),e._UZ(20,"img",10),e.ALo(21,"assetsSource"),e._uU(22," Report 1 "),e.qZA(),e.TgZ(23,"button",14),e._UZ(24,"img",10),e.ALo(25,"assetsSource"),e._uU(26," Report 2 "),e.qZA(),e.TgZ(27,"button",14),e._UZ(28,"img",10),e.ALo(29,"assetsSource"),e._uU(30," Report 3 "),e.qZA()()(),e._UZ(31,"span",6),e.TgZ(32,"div",7,15)(34,"button",16),e.NdJ("focus",function(){e.CHM(r);const o=e.MAs(33);return e.KtG(o.open())}),e._UZ(35,"img",10),e.ALo(36,"assetsSource"),e._uU(37," Export "),e._UZ(38,"span",11)(39,"span",12),e.qZA(),e.TgZ(40,"div",17)(41,"button",18),e.NdJ("click",function(){return t.downloadLocationData("csv")}),e._UZ(42,"i",19),e._uU(43," CSV "),e.qZA(),e.TgZ(44,"button",18),e.NdJ("click",function(){return t.downloadLocationData("pdf")}),e._UZ(45,"i",20),e._uU(46," PDF "),e.qZA()()(),e._UZ(47,"span",6),e.TgZ(48,"button",21),e.NdJ("click",function(){return t.addLocation()}),e._UZ(49,"img",10),e.ALo(50,"assetsSource"),e._uU(51," Location "),e.qZA()()(),e.TgZ(52,"div",22)(53,"div",23)(54,"div",24)(55,"app-ad-custom-dropdown",25),e.NdJ("ngModelChange",function(o){return t.enterprise=o})("onModelChange",function(o){return t.onEnterpriseDropdownChange(o)}),e.qZA()(),e.TgZ(56,"div",24)(57,"app-ad-custom-dropdown",26),e.NdJ("ngModelChange",function(o){return t.practice=o}),e.qZA()(),e.TgZ(58,"div",24)(59,"app-ad-custom-dropdown",27),e.NdJ("ngModelChange",function(o){return t.posId=o}),e.qZA()(),e.TgZ(60,"div",24)(61,"app-ad-custom-input",28),e.NdJ("ngModelChange",function(o){return t.locationName=o}),e.qZA()()(),e.TgZ(62,"div",23)(63,"div",24)(64,"app-ad-custom-input",29),e.NdJ("ngModelChange",function(o){return t.npi=o}),e.qZA()(),e.TgZ(65,"div",30)(66,"nz-form-item")(67,"nz-radio-group",31),e.NdJ("ngModelChange",function(o){return t.is_active=o}),e.TgZ(68,"label",32),e._uU(69,"Active"),e.qZA(),e.TgZ(70,"label",33),e._uU(71,"Inactive"),e.qZA(),e.TgZ(72,"label",34),e._uU(73,"All"),e.qZA()()()()()(),e.TgZ(74,"div",35)(75,"nz-table",36,37),e.NdJ("nzQueryParams",function(o){return t.onQueryParamsChange(o)})("nzPageIndexChange",function(o){return t.pageIndex=o})("nzPageSizeChange",function(o){return t.pageSize=o}),e.TgZ(79,"thead")(80,"tr")(81,"th",38),e._uU(82,"Entity"),e.qZA(),e.TgZ(83,"th",39),e._uU(84,"Practice"),e.qZA(),e.TgZ(85,"th",40),e._uU(86,"Location Name"),e.qZA(),e.TgZ(87,"th",41),e._uU(88,"POS"),e.qZA(),e.TgZ(89,"th",42),e._uU(90,"NPI"),e.qZA(),e.TgZ(91,"th",43),e._uU(92,"Active"),e.qZA(),e.TgZ(93,"th"),e._uU(94,"Actions"),e.qZA()()(),e.YNc(95,O,21,9,"tbody",44),e.YNc(96,Q,1,0,"tbody",45),e.qZA(),e.TgZ(97,"div",46),e._UZ(98,"img",10),e.ALo(99,"assetsSource"),e.TgZ(100,"span",47),e._uU(101),e.qZA()()()()}if(2&n){const r=e.MAs(77);e.xp6(13),e.Q6J("src",e.lcZ(14,31,"report_dropdown.png"),e.LSH),e.xp6(7),e.Q6J("src",e.lcZ(21,33,"report_dropdown.png"),e.LSH),e.xp6(4),e.Q6J("src",e.lcZ(25,35,"report_dropdown.png"),e.LSH),e.xp6(4),e.Q6J("src",e.lcZ(29,37,"report_dropdown.png"),e.LSH),e.xp6(7),e.Q6J("src",e.lcZ(36,39,"export.png"),e.LSH),e.xp6(14),e.Q6J("src",e.lcZ(50,41,"patient.png"),e.LSH),e.xp6(6),e.Q6J("ngModel",t.enterprise)("dropdownListData",t.enterpriseData),e.xp6(2),e.Q6J("ngModel",t.practice)("dropdownListData",t.practiceDropdownData),e.xp6(2),e.Q6J("ngModel",t.posId)("dropdownListData",t.posData),e.xp6(2),e.Q6J("ngModel",t.locationName),e.xp6(3),e.Q6J("ngModel",t.npi),e.xp6(3),e.Q6J("ngModel",t.is_active),e.xp6(8),e.Q6J("nzPageSizeOptions",t.pageSizeOptions)("nzFrontPagination",!1)("nzTotal",t.totalLocation)("nzPageIndex",t.pageIndex)("nzPageSize",t.pageSize)("nzData",t.locations),e.xp6(6),e.Q6J("nzSortFn",!0),e.xp6(2),e.Q6J("nzSortFn",!0),e.xp6(2),e.Q6J("nzSortFn",!0),e.xp6(2),e.Q6J("nzSortFn",!0),e.xp6(2),e.Q6J("nzSortFn",!0),e.xp6(2),e.Q6J("nzSortFn",!0),e.xp6(4),e.Q6J("ngForOf",r.data),e.xp6(1),e.Q6J("ngIf",0==r.data.length),e.xp6(2),e.Q6J("src",e.lcZ(99,43,"total.png"),e.LSH),e.xp6(3),e.Oqu(t.totalLocation)}},dependencies:[g.sg,g.O5,M.w,A.SK,P.Nx,y.Ls,v.Of,v.Dg,w.i,d.N8,d.qD,d.Uo,d._C,d.Om,d.p0,d.$Z,u.JJ,u.On,p.jt,p.Vi,p.TH,p._L,I.y,U.v,J.n],styles:[".margin-top-left[_ngcontent-%COMP%]{margin-top:17px}"]}),s})()}];let q=(()=>{class s{}return s.\u0275fac=function(n){return new(n||s)},s.\u0275mod=e.oAB({type:s}),s.\u0275inj=e.cJS({imports:[g.ez,z.T,_.Bz.forChild(F),u.u5,u.UX,p.IJ,C.m,_.Bz]}),s})()}}]);