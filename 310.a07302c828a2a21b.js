"use strict";(self.webpackChunktemplate_rpm_adnare=self.webpackChunktemplate_rpm_adnare||[]).push([[310],{25310:(E,m,o)=>{o.r(m),o.d(m,{PayerSearchModule:()=>H});var c=o(36895),y=o(62510),z=o(91083),g=o(90433),u=o(46773),Z=o(29193),_=o(49671),T=o(88938),P=o(35226),d=o.n(P),f=o(54641),C=o(58493),e=o(94650),b=o(39503),x=o(82895),I=o(47044),A=o(73679),M=o(36704),U=o(47423),v=o(48521),D=o(21243),l=o(40269),J=o(31237),w=o(80728),N=o(70827);const O=function(){return{standalone:!0}};function F(s,p){if(1&s){const n=e.EpF();e.TgZ(0,"tbody")(1,"tr"),e.ynx(2),e.TgZ(3,"td"),e._uU(4),e.qZA(),e.TgZ(5,"td"),e._uU(6),e.qZA(),e.TgZ(7,"td"),e._uU(8),e.qZA(),e.TgZ(9,"td"),e._uU(10),e.qZA(),e.TgZ(11,"td",46),e._uU(12),e.ALo(13,"date"),e.qZA(),e.TgZ(14,"td")(15,"div"),e.ynx(16),e.TgZ(17,"nz-switch",47),e.NdJ("ngModelChange",function(i){const a=e.CHM(n).$implicit;return e.KtG(a.active_switch=i)}),e.qZA(),e.BQk(),e.qZA()(),e.TgZ(18,"td")(19,"div",48)(20,"i",49),e.NdJ("click",function(){const r=e.CHM(n).$implicit,a=e.oxw();return e.KtG(a.deletePayer(r))}),e.qZA(),e.TgZ(21,"i",50),e.NdJ("click",function(){const r=e.CHM(n).$implicit,a=e.oxw();return e.KtG(a.editPayer(r))}),e.qZA()()(),e.BQk(),e.qZA()()}if(2&s){const n=p.$implicit;e.xp6(4),e.Oqu(n.enterprise),e.xp6(2),e.Oqu(n.payer_type),e.xp6(2),e.Oqu(n.payer_name),e.xp6(2),e.Oqu(n.insurance_id),e.xp6(1),e.s9C("title",n.created_by_user_name),e.xp6(1),e.Oqu(e.Dn7(13,9,n.created_on,"short","IST")),e.xp6(5),e.Q6J("ngModel",n.active_switch)("ngModelOptions",e.DdM(13,O))("nzDisabled",!0)}}function Q(s,p){1&s&&e._UZ(0,"tbody")}f.vfs=C.I.vfs;const L=[{path:"",component:(()=>{class s{constructor(n,t,i,r){this.patientService=n,this.payerService=t,this.router=i,this.datepipe=r,this.pageIndex=1,this.pageSize=10,this.pageSizeOptions=[10,20,30,40],this.get_all_data=!1,this.totalPayers=2,this.changePageSize=10}ngOnInit(){this.is_active="",this.getEnterpriseSearchDropdown(),this.getPayerTypeDropdown()}buildTableBody(n,t){var i=[];return i.push(t),n.forEach(r=>{var a=[];t.forEach(function(S){a.push(r[S.text])}),i.push(a)}),i}table(n,t){return{table:{headerRows:1,body:this.buildTableBody(n,t)}}}downloadAllPayersData(n){var t=this;return(0,_.Z)(function*(){t.search_model={user_id:localStorage.getItem("user_id"),sort_order:t.sortOrder??"",sort_coloumn:t.sortField??"",page_number:t.pageIndex,page_size:t.pageSize,enterprise_id:t.enterprise??"",payer_type_id:t.payerTypeId??"",is_active:t.is_active??"",payer_name:t.payerName??"",get_all_data:!0},t.payerService.getPayers(t.search_model).subscribe(i=>{1==i.success?(t.payerExportData=i.data.map(r=>({Entity:r.enterprise,"Insurance Type":r.payer_type.trim(),"Insurance Name":r.payer_name.trim(),"Payer Id":r.insurance_id??"","Created On":t.datepipe.transform(r.created_on,"MM/dd/yyyy hh:mm:ss"),"Created By":r.created_by_user_name})),"pdf"==n&&t.exportToPdf(t.payerExportData),"csv"==n&&t.exportToCsv(t.payerExportData)):d().fire({icon:"error",text:i.message})})})()}downloadPayerData(n){null!=this.payers&&0!=this.payers.length?this.downloadAllPayersData(n):d().fire({icon:"error",text:"No Record to Download"})}exportToCsv(n){new T.Sv(n,"Insurance",{fieldSeparator:",",quoteStrings:'"',decimalseparator:".",title:"",useBom:!0,noDownload:!1,headers:["Entity","Insurance Type","Insurance Name","Payer Id","Created On","Created By"]})}exportToPdf(n){var i={content:[{text:"Insurance",fontSize:13,bold:!0},this.table(n,[{text:"Entity",style:"tableHeader"},{text:"Insurance Type",style:"tableHeader"},{text:"Insurance Name",style:"tableHeader"},{text:"Payer Id",style:"tableHeader"},{text:"Created On",style:"tableHeader"},{text:"Created By",style:"tableHeader"}])],defaultStyle:{fontSize:13},styles:{tableHeader:{bold:!0,fontSize:13,color:"white",fillColor:"#4A2D73"}}};f.createPdf(i).download("Insurance.pdf")}getEnterpriseSearchDropdown(){this.userId=localStorage.getItem("user_id"),this.patientService.getActiveEnterpriseDropdownData(this.userId).subscribe(n=>{1==n.success?(this.enterpriseData=n.data,1==this.enterpriseData.length&&(this.enterprise=this.enterpriseData[0].id)):d().fire({icon:"error",text:n.message})})}getPayerTypeDropdown(){this.payerService.getPayerTypeDropdown().subscribe(n=>{1==n.success?this.payerTypesData=n.data:d().fire({icon:"error",text:n.message})})}onQueryParamsChange(n){var t=this;return(0,_.Z)(function*(){t.prev_pageIndex=null!=t.savedParams?t.savedParams.pageIndex:null,t.savedParams=n;const{pageIndex:r,sort:a}=n,h=a.find(q=>null!==q.value);t.sortField=h&&h.key||null,t.sortOrder=h&&h.value||null,t.pageIndex=r,(null!=t.payers&&null!=t.sortField&&null!=t.sortOrder||null!=t.prev_pageIndex&&t.prev_pageIndex!=t.pageIndex||t.changePageSize!=t.pageSize)&&t.getPayers(),t.changePageSize=t.pageSize})()}getPayers(){this.search_model={user_id:localStorage.getItem("user_id"),sort_order:this.sortOrder??"",sort_coloumn:this.sortField??"",page_number:this.pageIndex,page_size:this.pageSize,enterprise_id:this.enterprise??"",payer_type_id:this.payerTypeId??"",is_active:this.is_active??"",payer_name:this.payerName??"",get_all_data:this.get_all_data},this.payerService.getPayers(this.search_model).subscribe(n=>{1==n.success?(this.payers=n.data,this.totalPayers=n.data.length>0?n.data[0].total_record_count:0):d().fire({icon:"error",text:n.message})})}search(){this.pageIndex=1,this.getPayers()}handleClear(){this.payerName="",this.payerTypeId=null,this.is_active="",this.enterprise=void 0,this.getPayers()}addPayer(){this.router.navigate(["/add-insurance"]),this.payerService.method="create"}editPayer(n){this.payerService.method="update",this.payerService.payer_id=n.payer_id,this.router.navigate(["/add-insurance"])}deletePayer(n){this.payerService.deletePayer(n.payer_id).subscribe(t=>{1==t.success?(d().fire({icon:"success",text:t.message}),this.pageIndex=1,this.getPayers()):d().fire({icon:"error",text:t.message})})}}return s.\u0275fac=function(n){return new(n||s)(e.Y36(b.e),e.Y36(x.Z),e.Y36(y.F0),e.Y36(c.uU))},s.\u0275cmp=e.Xpm({type:s,selectors:[["app-payer-search"]],decls:97,vars:42,consts:[[1,"screen"],[1,"screen-header"],[1,"screen-name"],["ngbTooltip","Search","tooltipClass","custom-search-tooltip-color",1,"screen-header-btn","margin-right",3,"click"],[1,"fa","fa-search"],[1,"screen-header-btn","margin-right",3,"click"],[1,"pipe"],["ngbDropdown","",1,"d-inline-block"],["Report","ngbDropdown"],["id","dropdownManual",1,"screen-header-btn","margin-right",3,"focus"],[3,"src"],[1,"pipe-inside-btn"],[1,"fa","fa-chevron-down"],["ngbDropdownMenu","","aria-labelledby","dropdownManual"],["ngbDropdownItem","",1,"screen-header-btn","margin-right"],["Export","ngbDropdown"],["id","dropdownManual2",1,"screen-header-btn","margin-right",3,"focus"],["ngbDropdownMenu","","aria-labelledby","dropdownManual2"],["ngbDropdownItem","",1,"screen-header-btn","margin-right",3,"click"],[1,"fa","fa-file-csv"],[1,"fa","fa-file-pdf"],[1,"screen-header-btn",3,"click"],[1,"screen-search-criteria-div"],[1,"row"],[1,"col-lg-3","col-md-3","col-sm-6","col-xs-6"],["label","Entity","dropdown_placeholder","Entity","bindLabel","name","icon","fa fa-square-plus","align_icon","left",3,"ngModel","dropdownListData","ngModelChange"],["label","Insurance Type","dropdown_placeholder","Insurance Type","bindLabel","name","icon","fa fa-shield","align_icon","left",3,"ngModel","dropdownListData","ngModelChange"],["type","text","accesskey","I","placeholder","Insurance Name","label","Insurance Name","icon","fa fa-shield","align_icon","left",3,"ngModel","ngModelChange"],[1,"col-lg-3","col-md-3","col-lg-3","col-md-5","margin-top-left"],[3,"ngModel","ngModelChange"],["nz-radio","","nzValue","1"],["nz-radio","","nzValue","0"],["nz-radio","","nzValue",""],[1,"table-div"],["nzShowSizeChanger","",1,"ch-table",3,"nzPageSizeOptions","nzFrontPagination","nzTotal","nzPageIndex","nzPageSize","nzData","nzQueryParams","nzPageIndexChange","nzPageSizeChange"],["nzTable","","sortTable","","filterTable",""],["nzColumnKey","enterprise",3,"nzSortFn"],["nzColumnKey","payer_type",3,"nzSortFn"],["nzColumnKey","payer_name",3,"nzSortFn"],["nzColumnKey","insurance_id",3,"nzSortFn"],["nzColumnKey","created_on",3,"nzSortFn"],["nzColumnKey","active",3,"nzSortFn"],[4,"ngFor","ngForOf"],[4,"ngIf"],[1,"total"],[1,"total-span"],[3,"title"],[1,"rpm-switch",3,"ngModel","ngModelOptions","nzDisabled","ngModelChange"],[1,"table-icon-container"],["nz-icon","","nzType","delete","nzTheme","outline","nzTooltipPlacement","top","ngbTooltip","Delete",1,"table-coloumn-icons",3,"click"],["nz-icon","","nzType","edit","nzTheme","outline","nzTooltipPlacement","top","ngbTooltip","Edit",1,"table-coloumn-icons",3,"click"]],template:function(n,t){if(1&n){const i=e.EpF();e.TgZ(0,"div",0)(1,"div",1)(2,"div",2),e._uU(3," Insurance Search "),e.qZA(),e.TgZ(4,"div")(5,"button",3),e.NdJ("click",function(){return t.search()}),e._UZ(6,"span",4),e.qZA(),e.TgZ(7,"button",5),e.NdJ("click",function(){return t.handleClear()}),e._uU(8,"Clear All"),e.qZA(),e._UZ(9,"span",6),e.TgZ(10,"div",7,8)(12,"button",9),e.NdJ("focus",function(){e.CHM(i);const a=e.MAs(11);return e.KtG(a.open())}),e._UZ(13,"img",10),e.ALo(14,"assetsSource"),e._uU(15," Report "),e._UZ(16,"span",11)(17,"span",12),e.qZA(),e.TgZ(18,"div",13)(19,"button",14),e._UZ(20,"img",10),e.ALo(21,"assetsSource"),e._uU(22," Report 1 "),e.qZA(),e.TgZ(23,"button",14),e._UZ(24,"img",10),e.ALo(25,"assetsSource"),e._uU(26," Report 2 "),e.qZA(),e.TgZ(27,"button",14),e._UZ(28,"img",10),e.ALo(29,"assetsSource"),e._uU(30," Report 3 "),e.qZA()()(),e._UZ(31,"span",6),e.TgZ(32,"div",7,15)(34,"button",16),e.NdJ("focus",function(){e.CHM(i);const a=e.MAs(33);return e.KtG(a.open())}),e._UZ(35,"img",10),e.ALo(36,"assetsSource"),e._uU(37," Export "),e._UZ(38,"span",11)(39,"span",12),e.qZA(),e.TgZ(40,"div",17)(41,"button",18),e.NdJ("click",function(){return t.downloadPayerData("csv")}),e._UZ(42,"i",19),e._uU(43," CSV "),e.qZA(),e.TgZ(44,"button",18),e.NdJ("click",function(){return t.downloadPayerData("pdf")}),e._UZ(45,"i",20),e._uU(46," PDF "),e.qZA()()(),e._UZ(47,"span",6),e.TgZ(48,"button",21),e.NdJ("click",function(){return t.addPayer()}),e._UZ(49,"img",10),e.ALo(50,"assetsSource"),e._uU(51," Insurance "),e.qZA()()(),e.TgZ(52,"div",22)(53,"div",23)(54,"div",24)(55,"app-ad-custom-dropdown",25),e.NdJ("ngModelChange",function(a){return t.enterprise=a}),e.qZA()(),e.TgZ(56,"div",24)(57,"app-ad-custom-dropdown",26),e.NdJ("ngModelChange",function(a){return t.payerTypeId=a}),e.qZA()(),e.TgZ(58,"div",24)(59,"app-ad-custom-input",27),e.NdJ("ngModelChange",function(a){return t.payerName=a}),e.qZA()(),e.TgZ(60,"div",28)(61,"nz-form-item")(62,"nz-radio-group",29),e.NdJ("ngModelChange",function(a){return t.is_active=a}),e.TgZ(63,"label",30),e._uU(64,"Active"),e.qZA(),e.TgZ(65,"label",31),e._uU(66,"Inactive"),e.qZA(),e.TgZ(67,"label",32),e._uU(68,"All"),e.qZA()()()()()(),e.TgZ(69,"div",33)(70,"nz-table",34,35),e.NdJ("nzQueryParams",function(a){return t.onQueryParamsChange(a)})("nzPageIndexChange",function(a){return t.pageIndex=a})("nzPageSizeChange",function(a){return t.pageSize=a}),e.TgZ(74,"thead")(75,"tr")(76,"th",36),e._uU(77,"Entity"),e.qZA(),e.TgZ(78,"th",37),e._uU(79,"Insurance Type"),e.qZA(),e.TgZ(80,"th",38),e._uU(81,"Insurance Name"),e.qZA(),e.TgZ(82,"th",39),e._uU(83,"Payer Id"),e.qZA(),e.TgZ(84,"th",40),e._uU(85,"Created On"),e.qZA(),e.TgZ(86,"th",41),e._uU(87,"Active"),e.qZA(),e.TgZ(88,"th"),e._uU(89,"Actions"),e.qZA()()(),e.YNc(90,F,22,14,"tbody",42),e.YNc(91,Q,1,0,"tbody",43),e.qZA(),e.TgZ(92,"div",44),e._UZ(93,"img",10),e.ALo(94,"assetsSource"),e.TgZ(95,"span",45),e._uU(96),e.qZA()()()()}if(2&n){const i=e.MAs(72);e.xp6(13),e.Q6J("src",e.lcZ(14,28,"report_dropdown.png"),e.LSH),e.xp6(7),e.Q6J("src",e.lcZ(21,30,"report_dropdown.png"),e.LSH),e.xp6(4),e.Q6J("src",e.lcZ(25,32,"report_dropdown.png"),e.LSH),e.xp6(4),e.Q6J("src",e.lcZ(29,34,"report_dropdown.png"),e.LSH),e.xp6(7),e.Q6J("src",e.lcZ(36,36,"export.png"),e.LSH),e.xp6(14),e.Q6J("src",e.lcZ(50,38,"patient.png"),e.LSH),e.xp6(6),e.Q6J("ngModel",t.enterprise)("dropdownListData",t.enterpriseData),e.xp6(2),e.Q6J("ngModel",t.payerTypeId)("dropdownListData",t.payerTypesData),e.xp6(2),e.Q6J("ngModel",t.payerName),e.xp6(3),e.Q6J("ngModel",t.is_active),e.xp6(8),e.Q6J("nzPageSizeOptions",t.pageSizeOptions)("nzFrontPagination",!1)("nzTotal",t.totalPayers)("nzPageIndex",t.pageIndex)("nzPageSize",t.pageSize)("nzData",t.payers),e.xp6(6),e.Q6J("nzSortFn",!0),e.xp6(2),e.Q6J("nzSortFn",!0),e.xp6(2),e.Q6J("nzSortFn",!0),e.xp6(2),e.Q6J("nzSortFn",!0),e.xp6(2),e.Q6J("nzSortFn",!0),e.xp6(2),e.Q6J("nzSortFn",!0),e.xp6(4),e.Q6J("ngForOf",i.data),e.xp6(1),e.Q6J("ngIf",0==i.data.length),e.xp6(2),e.Q6J("src",e.lcZ(94,40,"total.png"),e.LSH),e.xp6(3),e.Oqu(t.totalPayers)}},dependencies:[c.sg,c.O5,I.w,A.SK,M.Nx,U.Ls,v.Of,v.Dg,D.i,l.N8,l.qD,l.Uo,l._C,l.Om,l.p0,l.$Z,g.JJ,g.On,u.jt,u.Vi,u.TH,u._L,J.y,w.v,c.uU,N.n],styles:[".margin-top-left[_ngcontent-%COMP%]{margin-top:17px}"]}),s})()}];let H=(()=>{class s{}return s.\u0275fac=function(n){return new(n||s)},s.\u0275mod=e.oAB({type:s}),s.\u0275inj=e.cJS({imports:[c.ez,z.T,y.Bz.forChild(L),g.u5,g.UX,u.IJ,Z.m,y.Bz]}),s})()}}]);