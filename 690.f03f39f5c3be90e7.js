"use strict";(self.webpackChunktemplate_rpm_adnare=self.webpackChunktemplate_rpm_adnare||[]).push([[690],{91684:(M,z,i)=>{i.d(z,{j:()=>y});var a=i(62843),_=i(80529),l=i(17414),p=i(70262),g=i(92340),v=i(94650);let y=(()=>{class c{constructor(r){this.http=r,this.opened=!1,this.prevIndexId=null,this.baseUrl="",this.token=localStorage.getItem("token"),this.patient_id=null,this.headers=new _.WM({"Content-Type":"application/json",charset:"UTF-8",Authorization:"Bearer "+this.token})}getBillingStatusDropdown(){return this.http.get(g.N.api_AdnareRPM+"/api/Repository/get_lkp_billing_status",{headers:this.headers.set("Authorization","Bearer "+localStorage.getItem("token"))}).pipe((0,l.V)(1e6),(0,p.K)(r=>401===r.status?(window.open(window.location.origin,"_self"),(0,a._)("Unauthorized")):(0,a._)(r)))}getBillingInsuranceDropdown(){return this.http.get(g.N.api_AdnareRPM+"/api/Repository/get_lkp_billing_insurance_type",{headers:this.headers.set("Authorization","Bearer "+localStorage.getItem("token"))}).pipe((0,l.V)(1e6),(0,p.K)(r=>401===r.status?(window.open(window.location.origin,"_self"),(0,a._)("Unauthorized")):(0,a._)(r)))}getProviderReport(r){let e=new _.LE;return e=r,this.http.get(g.N.api_AdnareRPM+"/api/Billing/sp_grid_provider_reports",{headers:this.headers.set("Authorization","Bearer "+localStorage.getItem("token")),params:e}).pipe((0,l.V)(1e6),(0,p.K)(d=>401===d.status?(window.open(window.location.origin,"_self"),(0,a._)("Unauthorized")):(0,a._)(d)))}getHomeCareReport(r){let e=new _.LE;return e=r,this.http.get(g.N.api_AdnareRPM+"/api/Billing/sp_grid_home_care_reports",{headers:this.headers.set("Authorization","Bearer "+localStorage.getItem("token")),params:e}).pipe((0,l.V)(1e6),(0,p.K)(d=>401===d.status?(window.open(window.location.origin,"_self"),(0,a._)("Unauthorized")):(0,a._)(d)))}downloadAllProviderReport(r){let e=new _.LE;return e=r,this.http.get(g.N.api_AdnareRPM+"/api/Billing/download_all_provider_reports",{headers:this.headers.set("Authorization","Bearer "+localStorage.getItem("token")),params:e}).pipe((0,l.V)(1e6),(0,p.K)(d=>401===d.status?(window.open(window.location.origin,"_self"),(0,a._)("Unauthorized")):(0,a._)(d)))}downloadProviderReport(r,e,d){return this.http.get(g.N.api_AdnareRPM+"/api/Billing/download_provider_reports?rpm_billing_id="+r+"&user_id="+e+"&flag="+d,{headers:this.headers.set("Authorization","Bearer "+localStorage.getItem("token"))}).pipe((0,l.V)(1e6),(0,p.K)(D=>401===D.status?(window.open(window.location.origin,"_self"),(0,a._)("Unauthorized")):(0,a._)(D)))}getClaims(r){return this.http.get(g.N.api_AdnareRPM+"/api/Billing/get_claims?rpm_billing_id="+r,{headers:this.headers.set("Authorization","Bearer "+localStorage.getItem("token"))}).pipe((0,l.V)(1e6),(0,p.K)(e=>401===e.status?(window.open(window.location.origin,"_self"),(0,a._)("Unauthorized")):(0,a._)(e)))}getReadings(r){let e=new _.LE;return e=r,this.http.get(g.N.api_AdnareRPM+"/api/Billing/fn_get_readings",{headers:this.headers.set("Authorization","Bearer "+localStorage.getItem("token")),params:e}).pipe((0,l.V)(1e6),(0,p.K)(d=>401===d.status?(window.open(window.location.origin,"_self"),(0,a._)("Unauthorized")):(0,a._)(d)))}updateCompleteStatus(r){return this.http.post(g.N.api_AdnareRPM+"/api/Billing/add_patient_doc_download_record",JSON.stringify(r),{headers:this.headers.set("Authorization","Bearer "+localStorage.getItem("token"))}).pipe((0,l.V)(1e6),(0,p.K)(e=>401===e.status?(window.open(window.location.origin,"_self"),(0,a._)("Unauthorized")):(0,a._)(e)))}getNotes(r){let e=new _.LE;return e=r,this.http.get(g.N.api_AdnareRPM+"/api/Billing/fn_get_notes",{headers:this.headers.set("Authorization","Bearer "+localStorage.getItem("token")),params:e}).pipe((0,l.V)(1e6),(0,p.K)(d=>401===d.status?(window.open(window.location.origin,"_self"),(0,a._)("Unauthorized")):(0,a._)(d)))}getDeviceInfo(r){return this.http.get(g.N.api_AdnareRPM+"/api/Billing/getDeviceInfo?patient_id="+r,{headers:this.headers.set("Authorization","Bearer "+localStorage.getItem("token"))}).pipe((0,l.V)(1e6),(0,p.K)(e=>401===e.status?(window.open(window.location.origin,"_self"),(0,a._)("Unauthorized")):(0,a._)(e)))}getICDCodes(r){return this.http.get(g.N.api_AdnareRPM+"/api/Billing/get_patient_diagnosis?patient_id="+r,{headers:this.headers.set("Authorization","Bearer "+localStorage.getItem("token"))}).pipe((0,l.V)(1e6),(0,p.K)(e=>401===e.status?(window.open(window.location.origin,"_self"),(0,a._)("Unauthorized")):(0,a._)(e)))}downloadHomeCareReport(r){return this.http.get(g.N.api_AdnareRPM+"/api/Billing/download_home_care_reports?rpm_billing_id="+r,{headers:this.headers.set("Authorization","Bearer "+localStorage.getItem("token"))}).pipe((0,l.V)(1e6),(0,p.K)(e=>401===e.status?(window.open(window.location.origin,"_self"),(0,a._)("Unauthorized")):(0,a._)(e)))}getHomeCareDropdown(r){return this.http.get(g.N.api_AdnareRPM+"/api/Repository/get_home_care?entity_id="+r,{headers:this.headers.set("Authorization","Bearer "+localStorage.getItem("token"))}).pipe((0,l.V)(1e6),(0,p.K)(e=>401===e.status?(window.open(window.location.origin,"_self"),(0,a._)("Unauthorized")):(0,a._)(e)))}}return c.\u0275fac=function(r){return new(r||c)(v.LFG(_.eN))},c.\u0275prov=v.Yz7({token:c,factory:c.\u0275fac,providedIn:"root"}),c})()},51690:(M,z,i)=>{i.r(z),i.d(z,{HomeCareReportsModule:()=>U});var a=i(36895),_=i(62510),l=i(90433),p=i(46773),g=i(29193),v=i(91083),y=i(49671),c=i(35226),h=i.n(c),r=i(88938),e=i(94650),d=i(91684),D=i(39503),T=i(47044),R=i(47423),m=i(40269),b=i(31453),B=i(80728),I=i(70827);function P(u,f){if(1&u){const n=e.EpF();e.TgZ(0,"tr")(1,"td"),e._uU(2),e.qZA(),e.TgZ(3,"td"),e._uU(4),e.qZA(),e.TgZ(5,"td"),e._uU(6),e.ALo(7,"date"),e.qZA(),e.TgZ(8,"td"),e._uU(9),e.ALo(10,"date"),e.qZA(),e.TgZ(11,"td"),e._uU(12),e.ALo(13,"date"),e.qZA(),e.TgZ(14,"td"),e._uU(15),e.qZA(),e.TgZ(16,"td"),e._uU(17),e.qZA(),e.TgZ(18,"td")(19,"div",28)(20,"i",29),e.NdJ("click",function(){const o=e.CHM(n).$implicit,w=e.oxw();return e.KtG(w.downloadReport(o.rpm_billing_id))}),e.qZA()()()()}if(2&u){const n=f.$implicit;e.xp6(2),e.Oqu(n.entity),e.xp6(2),e.Oqu(n.home_care_name),e.xp6(2),e.Oqu(e.xi3(7,7,n.billed_date,"MM/dd/yyyy")),e.xp6(3),e.Oqu(e.xi3(10,10,n.billed_from,"MM/dd/yyyy")),e.xp6(3),e.Oqu(e.xi3(13,13,n.billed_to,"MM/dd/yyyy")),e.xp6(3),e.Oqu(n.billed_type),e.xp6(2),e.Oqu(n.status)}}const Z=[{path:"",component:(()=>{class u{constructor(n,t,s,o){this.router=n,this.billingService=t,this.patientService=s,this.datepipe=o,this.enterpriseDropdownData=[],this.statusDropdownData=[],this.billingInsuranceDropdownData=[],this.homecareDropdownData=[],this.pageSizeOptions=[10,15,20,25,30],this.pageIndex=1,this.pageSize=10,this.total=1e3,this.get_all_data=!1,this.billing_start_date=null,this.billing_end_date=null}ngOnInit(){this.initData()}initData(){this.getBillingStatusDropdown(),this.getBillingInsuranceDropdown(),this.getEnterpriseSearchDropdown()}handleClear(){this.status=null,this.billing_start_date=null,this.billing_end_date=null,this.entity=null,this.home_care=null}search(){(null!=this.entity||null!=this.home_care||null!=this.status||null!=this.billing_start_date||null!=this.billing_end_date)&&(this.pageIndex=1),this.getHomeCareReport()}onInputChange(n){this.billingService.getHomeCareDropdown(n).subscribe(t=>{1==t.success?this.homecareDropdownData=t.data:h().fire({icon:"error",text:t.message})})}onQueryParamsChange(n){var t=this;return(0,y.Z)(function*(){t.prev_pageIndex=null!=t.savedParams?t.savedParams.pageIndex:null,t.savedParams=n;const{pageIndex:o,sort:w}=n,C=w.find(S=>null!==S.value);t.sortField=C&&C.key||null,t.sortOrder=C&&C.value||null,t.pageIndex=o,t.getHomeCareReport()})()}getHomeCareReport(){this.search_model={sort_order:this.sortOrder??"",sort_coloumn:this.sortField??"",page_number:this.pageIndex,page_size:this.pageSize,get_all_data:this.get_all_data,enterprise_id:this.entity??"",lkp_billing_status_id:this.status??"",user_id:localStorage.getItem("user_id"),billing_start_date:null===this.billing_start_date?"":this.convert(this.billing_start_date),billing_end_date:null===this.billing_end_date?"":this.convert(this.billing_end_date),home_telemonitoring_service_id:this.home_care??""},this.billingService.getHomeCareReport(this.search_model).subscribe(n=>{1==n.success?(this.home_care_reports=n.data,this.totalReports=n.data.length>0?n.data[0].total_record_count:0):h().fire({icon:"error",text:n.message})})}convert(n){const t=new Date(n),s=("0"+(t.getMonth()+1)).slice(-2),o=("0"+t.getDate()).slice(-2),w=("0"+t.getHours()).slice(-2),A=("0"+t.getHours()).slice(-2),C=("0"+t.getHours()).slice(-2);return[[t.getFullYear(),s,o].join("-"),[w,A,C].join(":")].join(" ")}downloadReport(n){null!=this.home_care_reports&&0!=this.home_care_reports.length?this.downloadAllProviderReports(n):h().fire({icon:"error",text:"No Record to Download"})}downloadAllProviderReports(n){var t=this;return(0,y.Z)(function*(){t.billingService.downloadHomeCareReport(n).subscribe(s=>{1==s.success?(t.homeCareReportExportData=s.data.map(o=>({"Patient Name":o.patient_first_name+" "+(o.patient_middle_name??"")+" "+o.patient_last_name,DOB:t.datepipe.transform(o.patient_dob,"MM/dd/yyyy"),Account:o.account,Provider:o.provider_first_name+" "+(o.provider_middle_name??"")+" "+o.provider_last_name,"Billed Type":o.billed_type,"Billed Date":t.datepipe.transform(o.billed_date,"MM/dd/yyyy"),"Created By":o.created_by,"Created On":t.datepipe.transform(o.created_on,"MM/dd/yyyy hh:mm:ss"),Units:o.units,Modifiers:o.modifiers,"Calculated Units":o.calculated_unit,CPT:o.cpt,Entity:o.entity,"Report Type":o.billing_insurance,"Inusrance Name":o.insurance_name,"Inusrance Type":o.insurance_type})),t.exportToCsv(t.homeCareReportExportData)):h().fire({icon:"error",text:s.message})})})()}exportToCsv(n){new r.Sv(n,"Home Care Reports",{fieldSeparator:",",quoteStrings:'"',decimalseparator:".",title:"",useBom:!0,noDownload:!1,headers:["Patient Name","DOB","Account","Provider","Billed Type","Billed Date","Created By","Created On","Units","Modifiers","Calculated Units","CPT","Entity","Report Type","Inusrance Name","Inusrance Type"]})}getEnterpriseSearchDropdown(){this.userId=localStorage.getItem("user_id"),this.patientService.getActiveEnterpriseDropdownData(this.userId).subscribe(n=>{1==n.success?(this.enterpriseDropdownData=n.data,1==this.enterpriseDropdownData.length&&(this.entity=this.enterpriseDropdownData[0].id,this.onInputChange(this.entity))):h().fire({icon:"error",text:n.message})})}getBillingStatusDropdown(){this.billingService.getBillingStatusDropdown().subscribe(n=>{1==n.success?this.statusDropdownData=n.data:h().fire({icon:"error",text:n.message})})}getBillingInsuranceDropdown(){this.billingService.getBillingInsuranceDropdown().subscribe(n=>{1==n.success?this.billingInsuranceDropdownData=n.data:h().fire({icon:"error",text:n.message})})}}return u.\u0275fac=function(n){return new(n||u)(e.Y36(_.F0),e.Y36(d.j),e.Y36(D.e),e.Y36(a.uU))},u.\u0275cmp=e.Xpm({type:u,selectors:[["app-home-care-reports"]],decls:51,vars:26,consts:[[1,"screen"],[1,"screen-header"],[1,"screen-name"],["ngbTooltip","Search","tooltipClass","custom-search-tooltip-color",1,"screen-header-btn","margin-right",3,"click"],[1,"fa","fa-search"],[1,"screen-header-btn","margin-right",3,"click"],[1,"screen-search-criteria-div"],[1,"row"],[1,"col-lg-2","col-md-2","col-sm-6","col-xs-6"],["label","Entity","dropdown_placeholder","Entity","bindLabel","name","icon","fa fa-square-plus","align_icon","left",3,"ngModel","dropdownListData","ngModelChange"],["label","Home Care","dropdown_placeholder","Home Care","bindLabel","name","icon","fa fa-square-plus","align_icon","left",3,"ngModel","dropdownListData","ngModelChange"],["label","Status","dropdown_placeholder","Status","bindLabel","name","icon","fa fa-user","align_icon","left",3,"ngModel","dropdownListData","ngModelChange"],["label","Billing Start Date","icon","fa fa-calendar","align_icon","left",3,"ngModel","ngModelChange"],["label","Billing End Date","icon","fa fa-calendar","align_icon","left",3,"ngModel","ngModelChange"],[1,"table-div"],["nzShowSizeChanger","",1,"ch-table",3,"nzPageSizeOptions","nzFrontPagination","nzTotal","nzPageIndex","nzPageSize","nzData","nzQueryParams","nzPageIndexChange","nzPageSizeChange"],["nzTable","","sortTable","","filterTable",""],["nzColumnKey","entity",3,"nzSortFn"],["nzColumnKey","home_care",3,"nzSortFn"],["nzColumnKey","billed_date",3,"nzSortFn"],["nzColumnKey","billed_from",3,"nzSortFn"],["nzColumnKey","billed_to",3,"nzSortFn"],["nzColumnKey","billed_type",3,"nzSortFn"],["nzColumnKey","status",3,"nzSortFn"],[4,"ngFor","ngForOf"],[1,"total"],[3,"src"],[1,"total-span"],[2,"text-align-last","center"],["nz-icon","","nzType","download","nzTheme","outline","nzTooltipPlacement","top","ngbTooltip","Download",1,"table-coloumn-icons",3,"click"]],template:function(n,t){1&n&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2),e._uU(3," Home Care Reports "),e.qZA(),e.TgZ(4,"div")(5,"button",3),e.NdJ("click",function(){return t.search()}),e._UZ(6,"span",4),e.qZA(),e.TgZ(7,"button",5),e.NdJ("click",function(){return t.handleClear()}),e._uU(8,"Clear All"),e.qZA()()(),e.TgZ(9,"div",6)(10,"div",7)(11,"div",8)(12,"app-ad-custom-dropdown",9),e.NdJ("ngModelChange",function(o){return t.entity=o})("ngModelChange",function(o){return t.onInputChange(o)}),e.qZA()(),e.TgZ(13,"div",8)(14,"app-ad-custom-dropdown",10),e.NdJ("ngModelChange",function(o){return t.home_care=o}),e.qZA()(),e.TgZ(15,"div",8)(16,"app-ad-custom-dropdown",11),e.NdJ("ngModelChange",function(o){return t.status=o}),e.qZA()(),e.TgZ(17,"div",8)(18,"app-ad-custom-date",12),e.NdJ("ngModelChange",function(o){return t.billing_start_date=o}),e.qZA()(),e.TgZ(19,"div",8)(20,"app-ad-custom-date",13),e.NdJ("ngModelChange",function(o){return t.billing_end_date=o}),e.qZA()()()(),e.TgZ(21,"div",14)(22,"nz-table",15,16),e.NdJ("nzQueryParams",function(o){return t.onQueryParamsChange(o)})("nzPageIndexChange",function(o){return t.pageIndex=o})("nzPageSizeChange",function(o){return t.pageSize=o}),e.TgZ(26,"thead")(27,"tr")(28,"th",17),e._uU(29,"Entity"),e.qZA(),e.TgZ(30,"th",18),e._uU(31,"Home Care"),e.qZA(),e.TgZ(32,"th",19),e._uU(33,"Billed Date"),e.qZA(),e.TgZ(34,"th",20),e._uU(35,"Billed From"),e.qZA(),e.TgZ(36,"th",21),e._uU(37,"Billed To"),e.qZA(),e.TgZ(38,"th",22),e._uU(39,"Billed Type"),e.qZA(),e.TgZ(40,"th",23),e._uU(41,"Status"),e.qZA(),e.TgZ(42,"th"),e._uU(43,"Action"),e.qZA()()(),e.TgZ(44,"tbody"),e.YNc(45,P,21,16,"tr",24),e.qZA()(),e.TgZ(46,"div",25),e._UZ(47,"img",26),e.ALo(48,"assetsSource"),e.TgZ(49,"span",27),e._uU(50),e.qZA()()()()),2&n&&(e.xp6(12),e.Q6J("ngModel",t.entity)("dropdownListData",t.enterpriseDropdownData),e.xp6(2),e.Q6J("ngModel",t.home_care)("dropdownListData",t.homecareDropdownData),e.xp6(2),e.Q6J("ngModel",t.status)("dropdownListData",t.statusDropdownData),e.xp6(2),e.Q6J("ngModel",t.billing_start_date),e.xp6(2),e.Q6J("ngModel",t.billing_end_date),e.xp6(2),e.Q6J("nzPageSizeOptions",t.pageSizeOptions)("nzFrontPagination",!1)("nzTotal",t.totalReports)("nzPageIndex",t.pageIndex)("nzPageSize",t.pageSize)("nzData",t.home_care_reports),e.xp6(6),e.Q6J("nzSortFn",!0),e.xp6(2),e.Q6J("nzSortFn",!0),e.xp6(2),e.Q6J("nzSortFn",!0),e.xp6(2),e.Q6J("nzSortFn",!0),e.xp6(2),e.Q6J("nzSortFn",!0),e.xp6(2),e.Q6J("nzSortFn",!0),e.xp6(2),e.Q6J("nzSortFn",!0),e.xp6(5),e.Q6J("ngForOf",t.home_care_reports),e.xp6(2),e.Q6J("src",e.lcZ(48,24,"total.png"),e.LSH),e.xp6(3),e.Oqu(t.totalReports))},dependencies:[a.sg,T.w,R.Ls,m.N8,m.qD,m.Uo,m._C,m.Om,m.p0,m.$Z,l.JJ,l.On,p._L,b.m,B.v,a.uU,I.n]}),u})()}];let U=(()=>{class u{}return u.\u0275fac=function(n){return new(n||u)},u.\u0275mod=e.oAB({type:u}),u.\u0275inj=e.cJS({imports:[a.ez,v.T,_.Bz.forChild(Z),l.u5,l.UX,p.IJ,g.m,_.Bz]}),u})()}}]);