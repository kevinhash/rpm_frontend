"use strict";(self.webpackChunktemplate_rpm_adnare=self.webpackChunktemplate_rpm_adnare||[]).push([[191],{40191:(N,u,a)=>{a.r(u),a.d(u,{AddProviderModule:()=>T});var m=a(36895),p=a(62510),_=a(91083),r=a(90433),f=a(46773),g=a(29193),b=a(35226),n=a.n(b),e=a(94650),Z=a(19195),D=a(39503),c=a(73679),v=a(36704),h=a(48521),I=a(31237),y=a(80728);function P(o,d){1&o&&(e.TgZ(0,"div",39),e._uU(1," Add Provider "),e.qZA())}function C(o,d){1&o&&(e.TgZ(0,"div",39),e._uU(1," Edit Provider "),e.qZA())}const A=[{path:"",component:(()=>{class o{constructor(t,i,l,s){this.formBuilder=t,this.router=i,this.providerService=l,this.patientService=s,this.disableInput=!1,this.checkFormValid=!0,this.transition_border=!1,this.disabled_entity=!1,this.mask="(000) 000-0000",this.buildForm()}ngOnInit(){this.getEnterpriseSearchDropdown(),this.getProviderTypeDropdown(),this.method=this.providerService.method,null!=this.providerService.provider_id&&null!=this.providerService.provider_id&&this.getProviderInfo(),"update"==this.method&&(this.disabled_entity=!0),this.getLocationsSearchDropdown(),this.getPracticesSearchDropdown()}onEnterpriseDropdownChange(t){this.form.controls.default_practice_id.setValue(null),this.form.controls.default_location_id.setValue(null),this.practiceDropdownData=null==this.practiceData?[]:this.practiceData.filter(i=>i.enterprise_id==t.id)}onPracticeDropdownChange(t){this.form.controls.default_location_id.setValue(null),null!=t&&(this.locationDropdownData=null==this.locationData?[]:this.locationData.filter(i=>i.practice_id==t.id&&i.enterprise_id==this.form.value.enterprise_id))}getLocationsSearchDropdown(){this.userId=localStorage.getItem("user_id"),this.patientService.getLocationDropdownData(this.userId).subscribe(t=>{1==t.success?(this.locationData=t.data,null!=this.form.value.default_practice_id&&null!=this.form.value.default_practice_id&&(this.locationDropdownData=this.locationData.filter(i=>i.practice_id==this.form.value.default_practice_id))):n().fire({icon:"error",text:t.message})})}getPracticesSearchDropdown(){this.userId=localStorage.getItem("user_id"),this.patientService.getPracticesDropdownData(this.userId).subscribe(t=>{1==t.success?(this.practiceData=t.data,null!=this.form.value.enterprise_id&&null!=this.form.value.enterprise_id&&(this.practiceDropdownData=this.practiceData.filter(i=>i.enterprise_id==this.form.value.enterprise_id))):n().fire({icon:"error",text:t.message})})}getProviderInfo(){this.providerService.getProviderInfoById(this.providerService.provider_id).subscribe(t=>{1==t.success?(t.data.is_active=t.data.is_active.toString(),null!=t.data.tax_id&&null!=t.data.tax_id&&(t.data.tax_id=t.data.tax_id.toString()),this.form.patchValue(t.data)):n().fire({icon:"error",text:t.message})})}getEnterpriseSearchDropdown(){this.userId=localStorage.getItem("user_id"),this.patientService.getActiveEnterpriseDropdownData(this.userId).subscribe(t=>{1==t.success?(this.enterpriseData=t.data,1==this.enterpriseData.length&&"update"!==this.method&&this.form.controls.enterprise_id.setValue(this.enterpriseData[0].id)):n().fire({icon:"error",text:t.message})})}getProviderTypeDropdown(){this.providerService.getProviderTypeDropdown().subscribe(t=>{1==t.success?this.providerTypesData=t.data:n().fire({icon:"error",text:t.message})})}addProvider(){this.checkFormValid=!0,this.transition_border=!0,this.form.valid&&this.checkFormValid?(this.addProviderData={user_id:localStorage.getItem("user_id"),provider_id:this.providerService.provider_id,default_practice_id:this.form.value.default_practice_id,default_location_id:this.form.value.default_location_id,provider_type_id:this.form.value.provider_type_id,tax_id:this.form.value.tax_id,npi:this.form.value.npi,last_name:this.form.value.last_name,middle_name:this.form.value.middle_name,first_name:this.form.value.first_name,address_1:this.form.value.address_1,address_2:this.form.value.address_2,state:this.form.value.state,city:this.form.value.city,zip:this.form.value.zip,is_active:this.form.value.is_active,enterprise_id:this.form.value.enterprise_id,zip_ext:this.form.value.zip_ext,phone_number:this.form.value.phone_number,title:this.form.value.title,prefix:this.form.value.prefix},null!=this.providerService.provider_id&&null!=this.providerService.provider_id?this.providerService.updateProviderInfo(this.addProviderData).subscribe(t=>{1==t.success?(n().fire({icon:"success",text:t.message}),this.router.navigate(["/provider-search"])):n().fire({icon:"error",text:t.message})}):this.providerService.addProvider(this.addProviderData).subscribe(t=>{1==t.success?(n().fire({icon:"success",text:t.message}),this.router.navigate(["/provider-search"])):n().fire({icon:"error",text:t.message})})):n().fire({icon:"error",text:"Check all required feilds."})}cancel(){this.form.reset(),this.providerService.provider_id=null,this.router.navigate(["/provider-search"])}clear(){this.buildForm(),this.practiceDropdownData=[],this.locationDropdownData=[]}buildForm(){this.form=this.formBuilder.group({first_name:[{value:null,disabled:this.disableInput},[r.kI.required]],last_name:[{value:null,disabled:this.disableInput},[r.kI.required]],middle_name:[{value:null,disabled:this.disableInput}],address_1:[{value:null,disabled:this.disableInput}],address_2:[{value:null,disabled:this.disableInput}],state:[{value:null,disabled:this.disableInput}],city:[{value:null,disabled:this.disableInput}],npi:[{value:null,disabled:this.disableInput},[r.kI.required,r.kI.minLength(10)]],tax_id:[{value:null,disabled:this.disableInput},r.kI.minLength(9)],zip:[{value:null,disabled:this.disableInput},r.kI.minLength(5)],provider_type_id:[{value:null,disabled:this.disableInput},[r.kI.required]],enterprise_id:[{value:null,disabled:this.disableInput},[r.kI.required]],default_practice_id:[{value:null,disabled:this.disableInput}],default_location_id:[{value:null,disabled:this.disableInput}],is_active:[{value:"1",disabled:this.disableInput},[r.kI.required]],phone_number:[{value:null,disabled:this.disableInput},[r.kI.minLength(10)]],zip_ext:[{value:null,disabled:this.disableInput},r.kI.minLength(4)],title:[{value:null,disabled:this.disableInput}],prefix:[{value:null,disabled:this.disableInput}]})}}return o.\u0275fac=function(t){return new(t||o)(e.Y36(r.QS),e.Y36(p.F0),e.Y36(Z.H),e.Y36(D.e))},o.\u0275cmp=e.Xpm({type:o,selectors:[["app-add-provider"]],decls:71,vars:19,consts:[["nz-row","",1,"add-device"],["nz-form","",1,"login-form",3,"formGroup"],[1,"formBox-full","viewMinWidth"],[1,"screen-header"],["class","screen-name",4,"ngIf"],[1,"button-container"],["ngbTooltip","Clear","tooltipClass","custom-search-tooltip-color",1,"screen-header-btn","margin-left","margin-right",3,"click"],["ngbTooltip","Save","tooltipClass","custom-search-tooltip-color",1,"screen-header-btn","margin-left","margin-right",3,"click"],[1,"fa","fa-floppy-disk","icon-padding"],["ngbTooltip","Cancel","tooltipClass","custom-search-tooltip-color",1,"screen-header-btn","margin-right",3,"click"],[1,"fa","fa-xmark","icon-padding"],["nz-col","",1,"screen-criteria"],[1,"main"],[1,"row"],[1,"col-lg-3","col-md-3","col-lg-5","col-lg-6"],["label","Entity *","formControlName","enterprise_id","dropdown_placeholder","Entity","bindLabel","name","align_icon","left","icon","fa fa-square-plus",3,"readonly","validations","dropdownListData","onModelChange"],["label","Default Practice","formControlName","default_practice_id","dropdown_placeholder","Default Practice","bindLabel","name","icon","fa fa-square-plus","align_icon","left",3,"dropdownListData","onModelChange"],["label","Default Location","formControlName","default_location_id","dropdown_placeholder","Default Location","bindLabel","name","icon","fa fa-location-dot","align_icon","left",3,"dropdownListData"],["label","Provider Type *","formControlName","provider_type_id","dropdown_placeholder","Provider Type","bindLabel","name","align_icon","left",3,"validations","dropdownListData"],["formControlName","prefix","type","text","placeholder","Prefix","label","Prefix","align_icon","left"],["formControlName","first_name","type","text","placeholder","Provider First Name","label","Provider First Name *","icon","fa fa-user","align_icon","left",3,"validations"],["formControlName","middle_name","type","text","placeholder","Provider Last Name","label","Provider Middle Name","icon","fa fa-user","align_icon","left"],["formControlName","last_name","type","text","placeholder","Provider Last Name","label","Provider Last Name *","icon","fa fa-user","align_icon","left",3,"validations"],["formControlName","title","type","text","placeholder","Title","label","Title","align_icon","left"],["formControlName","npi","type","text","error_message","NPI must consist of atleast 10 digits.","maxlength","10","onkeypress","return /[0-9\\-]/i.test(event.key)","placeholder","NPI","label","NPI *","icon","fa fa-user","align_icon","left",3,"validations"],["formControlName","tax_id","maxlength","9","error_message","Tax Id must consist of atleast 9 digits.","onkeypress","return /[0-9\\-]/i.test(event.key)","type","text","placeholder","Tax ID","label","Tax ID","icon","fa fa-user","align_icon","left",3,"validations"],["formControlName","is_active"],["nz-radio","","nzValue","1"],["nz-radio","","nzValue","0"],[1,"screen-name","sub-heading"],[1,"sections"],[1,"col-lg-2","col-md-2","col-lg-3","col-lg-4"],["type","text","placeholder","Address Line 1","label","Address Line 1","formControlName","address_1","icon","fa fa-address-card","align_icon","left"],["type","text","placeholder","Address Line 2","label","Address Line 2","formControlName","address_2","icon","fa fa-address-card","align_icon","left"],["placeholder","City","label","City ","icon","fa fa-building","formControlName","city","align_icon","left"],["type","text","placeholder","State","label","State","icon","fa fa-flag","formControlName","state","align_icon","left"],["type","text","maxlength","5","onkeypress","return /[0-9\\-]/i.test(event.key)","placeholder","ZIP","label","ZIP","formControlName","zip","error_message","Zip must consist of atleast 5 digits.","icon","fa fa-location-crosshairs","align_icon","left",3,"validations"],["type","text","maxlength","4","onkeypress","return /[0-9\\-]/i.test(event.key)","placeholder","ZIP Ext","label","ZIP Ext","error_message","Zip extension must consist of atleast 4 digits.","formControlName","zip_ext","icon","fa fa-location-crosshairs","align_icon","left",3,"validations"],["type","text","placeholder","Phone No","maxlength","14","error_message","Phone No must consist of atleast 10 digits.","onkeypress","return /[0-9\\-]/i.test(event.key)","label","Phone No","formControlName","phone_number","icon","fa fa-mobile-screen","align_icon","left",3,"validations","mask"],[1,"screen-name"]],template:function(t,i){1&t&&(e.TgZ(0,"div",0)(1,"form",1)(2,"div",2)(3,"div",3),e.YNc(4,P,2,0,"div",4),e.YNc(5,C,2,0,"div",4),e.qZA(),e.TgZ(6,"div",5)(7,"button",6),e.NdJ("click",function(){return i.clear()}),e._uU(8," Clear "),e.qZA(),e.TgZ(9,"button",7),e.NdJ("click",function(){return i.addProvider()}),e._UZ(10,"i",8),e.qZA(),e.TgZ(11,"button",9),e.NdJ("click",function(){return i.cancel()}),e._UZ(12,"i",10),e.qZA()(),e.TgZ(13,"div",11)(14,"div",12)(15,"div",13)(16,"div",14)(17,"app-ad-custom-dropdown",15),e.NdJ("onModelChange",function(s){return i.onEnterpriseDropdownChange(s)}),e.qZA()(),e.TgZ(18,"div",14)(19,"app-ad-custom-dropdown",16),e.NdJ("onModelChange",function(s){return i.onPracticeDropdownChange(s)}),e.qZA()()(),e.TgZ(20,"div",13)(21,"div",14),e._UZ(22,"app-ad-custom-dropdown",17),e.qZA(),e.TgZ(23,"div",14),e._UZ(24,"app-ad-custom-dropdown",18),e.qZA()(),e.TgZ(25,"div",13)(26,"div",14),e._UZ(27,"app-ad-custom-input",19),e.qZA(),e.TgZ(28,"div",14),e._UZ(29,"app-ad-custom-input",20),e.qZA()(),e.TgZ(30,"div",13)(31,"div",14),e._UZ(32,"app-ad-custom-input",21),e.qZA(),e.TgZ(33,"div",14),e._UZ(34,"app-ad-custom-input",22),e.qZA()(),e.TgZ(35,"div",13)(36,"div",14),e._UZ(37,"app-ad-custom-input",23),e.qZA(),e.TgZ(38,"div",14),e._UZ(39,"app-ad-custom-input",24),e.qZA()(),e.TgZ(40,"div",13)(41,"div",14),e._UZ(42,"app-ad-custom-input",25),e.qZA(),e.TgZ(43,"div",14)(44,"nz-form-item")(45,"nz-radio-group",26)(46,"label",27),e._uU(47,"Active"),e.qZA(),e.TgZ(48,"label",28),e._uU(49,"Inactive"),e.qZA()()()()()(),e.TgZ(50,"div",3)(51,"div",29),e._uU(52," Contact Information "),e.qZA()(),e.TgZ(53,"div",30)(54,"div",13)(55,"div",31),e._UZ(56,"app-ad-custom-input",32),e.qZA(),e.TgZ(57,"div",31),e._UZ(58,"app-ad-custom-input",33),e.qZA(),e.TgZ(59,"div",31),e._UZ(60,"app-ad-custom-input",34),e.qZA()(),e.TgZ(61,"div",13)(62,"div",31),e._UZ(63,"app-ad-custom-input",35),e.qZA(),e.TgZ(64,"div",31),e._UZ(65,"app-ad-custom-input",36),e.qZA(),e.TgZ(66,"div",31),e._UZ(67,"app-ad-custom-input",37),e.qZA()(),e.TgZ(68,"div",13)(69,"div",31),e._UZ(70,"app-ad-custom-input",38),e.qZA()()()()()()()),2&t&&(e.xp6(1),e.Q6J("formGroup",i.form),e.xp6(3),e.Q6J("ngIf","create"==i.method),e.xp6(1),e.Q6J("ngIf","update"==i.method),e.xp6(12),e.Q6J("readonly",i.disabled_entity)("validations",!(i.transition_border&&null==i.form.value.enterprise_id||""==i.form.value.enterprise_id))("readonly",i.disabled_entity)("dropdownListData",i.enterpriseData),e.xp6(2),e.Q6J("dropdownListData",i.practiceDropdownData),e.xp6(3),e.Q6J("dropdownListData",i.locationDropdownData),e.xp6(2),e.Q6J("validations",!(i.transition_border&&(null==i.form.value.provider_type_id||null==i.form.value.provider_type_id||""==i.form.value.provider_type_id)))("dropdownListData",i.providerTypesData),e.xp6(5),e.Q6J("validations",!(i.transition_border&&(null==i.form.value.first_name||null==i.form.value.first_name||""==i.form.value.first_name))),e.xp6(5),e.Q6J("validations",!(i.transition_border&&(null==i.form.value.last_name||null==i.form.value.last_name||""==i.form.value.last_name))),e.xp6(5),e.Q6J("validations",!(i.transition_border&&(null==i.form.value.npi||null==i.form.value.npi||""==i.form.value.npi||i.form.value.npi.length>0&&i.form.value.npi.length<10))),e.xp6(3),e.Q6J("validations",!(i.transition_border&&null!=i.form.value.tax_id&&null!=i.form.value.tax_id&&""!=i.form.value.tax_id&&i.form.value.tax_id.length>0&&i.form.value.tax_id.length<9)),e.xp6(23),e.Q6J("validations",!(i.transition_border&&null!=i.form.value.zip&&null!=i.form.value.zip&&""!=i.form.value.zip&&i.form.value.zip.length>0&&i.form.value.zip.length<5)),e.xp6(2),e.Q6J("validations",!(i.transition_border&&null!=i.form.value.zip_ext&&i.form.value.zip_ext.length>0&&i.form.value.zip_ext.length<4)),e.xp6(3),e.Q6J("validations",!(i.transition_border&&null!=i.form.value.phone_number&&null!=i.form.value.phone_number&&""!=i.form.value.phone_number&&i.form.value.phone_number.length>0&&i.form.value.phone_number.length<10))("mask",i.mask))},dependencies:[m.O5,c.t3,c.SK,v.Lr,v.Nx,h.Of,h.Dg,r._Y,r.JJ,r.JL,r.nD,r.sg,r.u,f._L,I.y,y.v],styles:[".add-provider[_ngcontent-%COMP%]{margin-left:5%;margin-top:5%}.error-message[_ngcontent-%COMP%]{position:absolute;left:13px;bottom:-13px;font-size:10px;color:#bd123e;line-height:1;font-weight:700}  .add-device{margin-left:15%;margin-top:5%}"]}),o})()}];let T=(()=>{class o{}return o.\u0275fac=function(t){return new(t||o)},o.\u0275mod=e.oAB({type:o}),o.\u0275inj=e.cJS({imports:[m.ez,_.T,p.Bz.forChild(A),r.u5,r.UX,f.IJ,g.m,p.Bz]}),o})()}}]);