"use strict";(self.webpackChunktemplate_rpm_adnare=self.webpackChunktemplate_rpm_adnare||[]).push([[255],{91684:(D,T,_)=>{_.d(T,{j:()=>v});var t=_(62843),p=_(80529),u=_(17414),g=_(70262),l=_(92340),b=_(94650);let v=(()=>{class m{constructor(a){this.http=a,this.opened=!1,this.prevIndexId=null,this.baseUrl="",this.token="",this.patient_id=null,this.headers=new p.WM({"Content-Type":"application/json",charset:"UTF-8",Authorization:"Bearer "+this.token})}getBillingStatusDropdown(){return this.headers.set("Authorization","Bearer "+localStorage.getItem("token")),this.http.get(l.N.api_AdnareRPM+"/api/Repository/get_lkp_billing_status",{headers:this.headers}).pipe((0,u.V)(1e6),(0,g.K)(a=>401===a.status?(window.open(window.location.origin,"_self"),(0,t._)("Unauthorized")):(0,t._)(a)))}getBillingInsuranceDropdown(){return this.headers.set("Authorization","Bearer "+localStorage.getItem("token")),this.http.get(l.N.api_AdnareRPM+"/api/Repository/get_lkp_billing_insurance_type",{headers:this.headers}).pipe((0,u.V)(1e6),(0,g.K)(a=>401===a.status?(window.open(window.location.origin,"_self"),(0,t._)("Unauthorized")):(0,t._)(a)))}getProviderReport(a){this.headers.set("Authorization","Bearer "+localStorage.getItem("token"));let s=new p.LE;return s=a,this.http.get(l.N.api_AdnareRPM+"/api/Billing/sp_grid_provider_reports",{headers:this.headers,params:s}).pipe((0,u.V)(1e6),(0,g.K)(d=>401===d.status?(window.open(window.location.origin,"_self"),(0,t._)("Unauthorized")):(0,t._)(d)))}getHomeCareReport(a){this.headers.set("Authorization","Bearer "+localStorage.getItem("token"));let s=new p.LE;return s=a,this.http.get(l.N.api_AdnareRPM+"/api/Billing/sp_grid_home_care_reports",{headers:this.headers,params:s}).pipe((0,u.V)(1e6),(0,g.K)(d=>401===d.status?(window.open(window.location.origin,"_self"),(0,t._)("Unauthorized")):(0,t._)(d)))}downloadAllProviderReport(a){this.headers.set("Authorization","Bearer "+localStorage.getItem("token"));let s=new p.LE;return s=a,this.http.get(l.N.api_AdnareRPM+"/api/Billing/download_all_provider_reports",{headers:this.headers,params:s}).pipe((0,u.V)(1e6),(0,g.K)(d=>401===d.status?(window.open(window.location.origin,"_self"),(0,t._)("Unauthorized")):(0,t._)(d)))}downloadProviderReport(a,s,d){return this.headers.set("Authorization","Bearer "+localStorage.getItem("token")),this.http.get(l.N.api_AdnareRPM+"/api/Billing/download_provider_reports?rpm_billing_id="+a+"&user_id="+s+"&flag="+d,{headers:this.headers}).pipe((0,u.V)(1e6),(0,g.K)(x=>401===x.status?(window.open(window.location.origin,"_self"),(0,t._)("Unauthorized")):(0,t._)(x)))}getClaims(a){return this.headers.set("Authorization","Bearer "+localStorage.getItem("token")),this.http.get(l.N.api_AdnareRPM+"/api/Billing/get_claims?rpm_billing_id="+a,{headers:this.headers}).pipe((0,u.V)(1e6),(0,g.K)(s=>401===s.status?(window.open(window.location.origin,"_self"),(0,t._)("Unauthorized")):(0,t._)(s)))}getReadings(a){this.headers.set("Authorization","Bearer "+localStorage.getItem("token"));let s=new p.LE;return s=a,this.http.get(l.N.api_AdnareRPM+"/api/Billing/fn_get_readings",{headers:this.headers,params:s}).pipe((0,u.V)(1e6),(0,g.K)(d=>401===d.status?(window.open(window.location.origin,"_self"),(0,t._)("Unauthorized")):(0,t._)(d)))}updateCompleteStatus(a){return this.headers.set("Authorization","Bearer "+localStorage.getItem("token")),this.http.post(l.N.api_AdnareRPM+"/api/Billing/add_patient_doc_download_record",JSON.stringify(a),{headers:this.headers}).pipe((0,u.V)(1e6),(0,g.K)(s=>401===s.status?(window.open(window.location.origin,"_self"),(0,t._)("Unauthorized")):(0,t._)(s)))}getNotes(a){this.headers.set("Authorization","Bearer "+localStorage.getItem("token"));let s=new p.LE;return s=a,this.http.get(l.N.api_AdnareRPM+"/api/Billing/fn_get_notes",{headers:this.headers,params:s}).pipe((0,u.V)(1e6),(0,g.K)(d=>401===d.status?(window.open(window.location.origin,"_self"),(0,t._)("Unauthorized")):(0,t._)(d)))}getDeviceInfo(a){return this.headers.set("Authorization","Bearer "+localStorage.getItem("token")),this.http.get(l.N.api_AdnareRPM+"/api/Billing/getDeviceInfo?patient_id="+a,{headers:this.headers}).pipe((0,u.V)(1e6),(0,g.K)(s=>401===s.status?(window.open(window.location.origin,"_self"),(0,t._)("Unauthorized")):(0,t._)(s)))}getICDCodes(a){return this.headers.set("Authorization","Bearer "+localStorage.getItem("token")),this.http.get(l.N.api_AdnareRPM+"/api/Billing/get_patient_diagnosis?patient_id="+a,{headers:this.headers}).pipe((0,u.V)(1e6),(0,g.K)(s=>401===s.status?(window.open(window.location.origin,"_self"),(0,t._)("Unauthorized")):(0,t._)(s)))}downloadHomeCareReport(a){return this.headers.set("Authorization","Bearer "+localStorage.getItem("token")),this.http.get(l.N.api_AdnareRPM+"/api/Billing/download_home_care_reports?rpm_billing_id="+a,{headers:this.headers}).pipe((0,u.V)(1e6),(0,g.K)(s=>401===s.status?(window.open(window.location.origin,"_self"),(0,t._)("Unauthorized")):(0,t._)(s)))}getHomeCareDropdown(a){return this.headers.set("Authorization","Bearer "+localStorage.getItem("token")),this.http.get(l.N.api_AdnareRPM+"/api/Repository/get_home_care?entity_id="+a,{headers:this.headers}).pipe((0,u.V)(1e6),(0,g.K)(s=>401===s.status?(window.open(window.location.origin,"_self"),(0,t._)("Unauthorized")):(0,t._)(s)))}}return m.\u0275fac=function(a){return new(a||m)(b.LFG(p.eN))},m.\u0275prov=b.Yz7({token:m,factory:m.\u0275fac,providedIn:"root"}),m})()},13255:(D,T,_)=>{_.d(T,{j:()=>$});var t=_(94650),p=_(62510),u=_(91684),g=_(39503),l=_(36895),b=_(94829),v=_(40269),m=_(70827);function Z(e,r){if(1&e&&(t.TgZ(0,"p")(1,"b"),t._uU(2,"Pateint Name:"),t.qZA(),t._uU(3),t.TgZ(4,"b"),t._uU(5,"Date of Birth:"),t.qZA(),t._uU(6),t.ALo(7,"date"),t.TgZ(8,"b"),t._uU(9,"Gender:"),t.qZA(),t._uU(10),t.qZA()),2&e){const i=t.oxw();t.xp6(3),t.lnq(" ",null==i.patient_information?null:i.patient_information.patientFirstName," ",(null==i.patient_information?null:i.patient_information.patientMiddleName)??""," ",null==i.patient_information?null:i.patient_information.patientLastName," \xa0 \xa0 \xa0 \xa0 "),t.xp6(3),t.hij(" ",t.xi3(7,5,null==i.patient_information?null:i.patient_information.patientDOB,"MM/dd/YYYY")," \xa0 \xa0 \xa0 \xa0 "),t.xp6(4),t.hij(" ",null==i.patient_information?null:i.patient_information.patientLkpGenderCode,"")}}function a(e,r){if(1&e&&(t.TgZ(0,"p")(1,"b"),t._uU(2,"Pateint Name:"),t.qZA(),t._uU(3),t.TgZ(4,"b"),t._uU(5,"Date of Birth:"),t.qZA(),t._uU(6),t.ALo(7,"date"),t.TgZ(8,"b"),t._uU(9,"Month:"),t.qZA(),t._uU(10),t.TgZ(11,"b",15),t._uU(12),t.qZA()()),2&e){const i=t.oxw();t.xp6(3),t.AsE(" ",null==i.patient_information?null:i.patient_information.patient_first_name," ",null==i.patient_information?null:i.patient_information.patient_last_name," \xa0 \xa0 \xa0 \xa0 "),t.xp6(3),t.hij(" ",t.xi3(7,5,null==i.patient_information?null:i.patient_information.dob,"MM/dd/YYYY")," \xa0 \xa0 \xa0 \xa0 "),t.xp6(4),t.hij(" ",null==i.patient_information?null:i.patient_information.month," \xa0 \xa0 \xa0 \xa0 "),t.xp6(2),t.hij("#",i.patient_information.cycle_number,"")}}function s(e,r){if(1&e&&(t.TgZ(0,"p")(1,"b"),t._uU(2,"Days of Readings:"),t.qZA(),t._uU(3),t.TgZ(4,"b"),t._uU(5,"From:"),t.qZA(),t._uU(6),t.ALo(7,"date"),t.TgZ(8,"b"),t._uU(9,"To:"),t.qZA(),t._uU(10),t.ALo(11,"date"),t.qZA()),2&e){const i=t.oxw();t.xp6(3),t.hij(" ",null==i.patient_information?null:i.patient_information.days_of_readings," \xa0 \xa0 \xa0 \xa0 "),t.xp6(3),t.hij(" ",t.Dn7(7,3,null==i.patient_information?null:i.patient_information.serviceDateFromD,"short","IST")," \xa0 \xa0 \xa0 \xa0 "),t.xp6(4),t.hij(" ",t.Dn7(11,7,null==i.patient_information?null:i.patient_information.serviceDateToD,"short","IST")," ")}}function d(e,r){if(1&e&&(t.TgZ(0,"p")(1,"b"),t._uU(2,"Minutes:"),t.qZA(),t._uU(3),t.TgZ(4,"b"),t._uU(5,"From:"),t.qZA(),t._uU(6),t.ALo(7,"date"),t.TgZ(8,"b"),t._uU(9,"To:"),t.qZA(),t._uU(10),t.ALo(11,"date"),t.qZA()),2&e){const i=t.oxw();t.xp6(3),t.hij(" ",null==i.patient_information?null:i.patient_information.minutes," \xa0 \xa0 \xa0 \xa0 "),t.xp6(3),t.hij(" ",t.Dn7(7,3,null==i.patient_information?null:i.patient_information.serviceDateFromM,"short","IST")," \xa0 \xa0 \xa0 \xa0 "),t.xp6(4),t.hij(" ",t.Dn7(11,7,null==i.patient_information?null:i.patient_information.serviceDateToM,"short","IST")," ")}}function x(e,r){if(1&e&&(t.TgZ(0,"p")(1,"b"),t._uU(2,"Provider Name:"),t.qZA(),t._uU(3),t.TgZ(4,"b"),t._uU(5,"Date of Service:"),t.qZA(),t._uU(6),t.ALo(7,"date"),t.qZA()),2&e){const i=t.oxw();t.xp6(3),t.hij(" ",null==i.patient_information?null:i.patient_information.providerName," \xa0 \xa0 \xa0 \xa0 "),t.xp6(3),t.hij(" ",t.xi3(7,2,null==i.patient_information?null:i.patient_information.serviceDateTo,"MM/dd/YYYY hh:mm"),"")}}function U(e,r){if(1&e&&(t.TgZ(0,"div",8)(1,"b"),t._uU(2,"Patient Notes"),t.qZA(),t.TgZ(3,"div",16)(4,"b",17),t._uU(5,"From:"),t.qZA(),t._uU(6),t.ALo(7,"date"),t.TgZ(8,"b",17),t._uU(9,"To:"),t.qZA(),t._uU(10),t.ALo(11,"date"),t.qZA()()),2&e){const i=t.oxw();t.xp6(6),t.hij("",t.Dn7(7,2,null==i.patient_information?null:i.patient_information.serviceDateFromM,"short","IST"),"\xa0 \xa0 \xa0 \xa0 \xa0"),t.xp6(4),t.Oqu(t.Dn7(11,6,null==i.patient_information?null:i.patient_information.serviceDateToM,"short","IST"))}}function M(e,r){if(1&e&&(t.TgZ(0,"ul")(1,"li")(2,"b"),t._uU(3),t.ALo(4,"date"),t.qZA(),t._uU(5),t._UZ(6,"br"),t.TgZ(7,"b"),t._uU(8,"Service Provided By:"),t.qZA(),t._uU(9),t.TgZ(10,"b"),t._uU(11,"Time Spent:"),t.qZA(),t._uU(12),t.qZA()()),2&e){const i=r.$implicit;t.xp6(3),t.hij("",t.Dn7(4,5,i.date_of_note,"short","IST")," : "),t.xp6(2),t.hij(" ",i.note," "),t.xp6(4),t.AsE(" ",i.user_first_name," ",i.user_last_name," "),t.xp6(3),t.hij(" ",i.duration,"")}}function w(e,r){if(1&e&&(t.TgZ(0,"div",18),t.YNc(1,M,13,9,"ul",19),t.qZA()),2&e){const i=t.oxw();t.xp6(1),t.Q6J("ngForOf",i.notes)}}function R(e,r){if(1&e&&(t.TgZ(0,"div",8)(1,"b"),t._uU(2,"Readings"),t.qZA(),t._uU(3,"\xa0 \xa0 \xa0 \xa0"),t.TgZ(4,"div",16)(5,"b",17),t._uU(6,"From:"),t.qZA(),t._uU(7),t.ALo(8,"date"),t.TgZ(9,"b",17),t._uU(10,"To:"),t.qZA(),t._uU(11),t.ALo(12,"date"),t.qZA()()),2&e){const i=t.oxw();t.xp6(7),t.hij("",t.Dn7(8,2,null==i.patient_information?null:i.patient_information.serviceDateFromD,"short","IST"),"\xa0 \xa0 \xa0 \xa0 \xa0"),t.xp6(4),t.Oqu(t.Dn7(12,6,null==i.patient_information?null:i.patient_information.serviceDateToD,"short","IST"))}}function P(e,r){1&e&&(t.TgZ(0,"th"),t._uU(1,"Systolic"),t.qZA())}function I(e,r){1&e&&(t.TgZ(0,"th"),t._uU(1,"Diastolic"),t.qZA())}function N(e,r){1&e&&(t.TgZ(0,"th"),t._uU(1,"Pulse"),t.qZA())}function S(e,r){1&e&&(t.TgZ(0,"th"),t._uU(1,"Weight"),t.qZA())}function k(e,r){1&e&&(t.TgZ(0,"th"),t._uU(1,"Ketone"),t.qZA())}function O(e,r){1&e&&(t.TgZ(0,"th"),t._uU(1,"SP02"),t.qZA())}function E(e,r){1&e&&(t.TgZ(0,"th"),t._uU(1,"Glucose"),t.qZA())}function q(e,r){1&e&&(t.TgZ(0,"th"),t._uU(1,"Reading Time"),t.qZA())}const f=function(e,r,i){return{"background-cell-normal":e,"background-cell-abnormal":r,"background-cell-critical":i}};function y(e,r){if(1&e&&(t.TgZ(0,"td")(1,"div",22),t._uU(2),t.qZA()()),2&e){const i=t.oxw().$implicit;t.xp6(1),t.Q6J("ngClass",t.kEZ(2,f,1===(null==i?null:i.bp_systolic_status),2===(null==i?null:i.bp_systolic_status),3===(null==i?null:i.bp_systolic_status))),t.xp6(1),t.hij(" ",i.systolic," ")}}function B(e,r){if(1&e&&(t.TgZ(0,"td")(1,"div",22),t._uU(2),t.qZA()()),2&e){const i=t.oxw().$implicit;t.xp6(1),t.Q6J("ngClass",t.kEZ(2,f,1===(null==i?null:i.bp_diastolic_status),2===(null==i?null:i.bp_diastolic_status),3===(null==i?null:i.bp_diastolic_status))),t.xp6(1),t.hij(" ",i.diastolic," ")}}function Y(e,r){if(1&e&&(t.TgZ(0,"td")(1,"div",22),t._uU(2),t.qZA()()),2&e){const i=t.oxw().$implicit;t.xp6(1),t.Q6J("ngClass",t.kEZ(2,f,1===(null==i?null:i.pulse_status),2===(null==i?null:i.pulse_status),3===(null==i?null:i.pulse_status))),t.xp6(1),t.hij(" ",i.pulse," ")}}function J(e,r){if(1&e&&(t.TgZ(0,"td")(1,"div",22),t._uU(2),t.qZA()()),2&e){const i=t.oxw().$implicit,n=t.oxw(2);t.xp6(1),t.Q6J("ngClass",t.kEZ(2,f,1===(null==i?null:i.weight_status),2===(null==i?null:i.weight_status),3===(null==i?null:i.weight_status))),t.xp6(1),t.hij(" ",null!=i.weight?n.roundNumber(i.weight):null," ")}}function L(e,r){if(1&e&&(t.TgZ(0,"td")(1,"div",22),t._uU(2),t.qZA()()),2&e){const i=t.oxw().$implicit,n=t.oxw(2);t.xp6(1),t.Q6J("ngClass",t.kEZ(2,f,1===(null==i?null:i.ketone_status),2===(null==i?null:i.ketone_status),3===(null==i?null:i.ketone_status))),t.xp6(1),t.hij(" ",null!=i.ketone?n.roundNumber_(i.ketone):null," ")}}function j(e,r){if(1&e&&(t.TgZ(0,"td")(1,"div",22),t._uU(2),t.qZA()()),2&e){const i=t.oxw().$implicit;t.xp6(1),t.Q6J("ngClass",t.kEZ(2,f,1===(null==i?null:i.oxygen_saturation_status),2===(null==i?null:i.oxygen_saturation_status),3===(null==i?null:i.oxygen_saturation_status))),t.xp6(1),t.hij(" ",i.sp02," ")}}function Q(e,r){if(1&e&&(t.TgZ(0,"td"),t._UZ(1,"div",22),t._uU(2),t.qZA()),2&e){const i=t.oxw().$implicit;t.xp6(1),t.Q6J("ngClass",t.kEZ(2,f,1===(null==i?null:i.glucose_status),2===(null==i?null:i.glucose_status),3===(null==i?null:i.glucose_status))),t.xp6(1),t.hij(" ",i.glucose," ")}}function z(e,r){if(1&e&&(t.TgZ(0,"td"),t._uU(1),t.qZA()),2&e){const i=t.oxw().$implicit;t.xp6(1),t.Oqu(i.reading_time)}}function K(e,r){if(1&e&&(t.TgZ(0,"tr")(1,"td"),t._uU(2),t.qZA(),t.YNc(3,y,3,6,"td",10),t.YNc(4,B,3,6,"td",10),t.YNc(5,Y,3,6,"td",10),t.YNc(6,J,3,6,"td",10),t.YNc(7,L,3,6,"td",10),t.YNc(8,j,3,6,"td",10),t.YNc(9,Q,3,6,"td",10),t.YNc(10,z,2,1,"td",10),t.qZA()),2&e){const i=r.$implicit,n=t.oxw(2);t.xp6(2),t.Oqu(i.device),t.xp6(1),t.Q6J("ngIf",n.hideSystolicColoumn),t.xp6(1),t.Q6J("ngIf",n.hideDiastolicColoumn),t.xp6(1),t.Q6J("ngIf",n.hidePulseColoumn),t.xp6(1),t.Q6J("ngIf",n.hideWeightColoumn),t.xp6(1),t.Q6J("ngIf",n.hideKetoneColoumn),t.xp6(1),t.Q6J("ngIf",n.hideSP02Coloumn),t.xp6(1),t.Q6J("ngIf",n.hideGlucoseColoumn),t.xp6(1),t.Q6J("ngIf",n.hideReadingTimeColoumn)}}function W(e,r){if(1&e&&(t.TgZ(0,"div",20)(1,"table",21)(2,"tr")(3,"th"),t._uU(4,"Device"),t.qZA(),t.YNc(5,P,2,0,"th",10),t.YNc(6,I,2,0,"th",10),t.YNc(7,N,2,0,"th",10),t.YNc(8,S,2,0,"th",10),t.YNc(9,k,2,0,"th",10),t.YNc(10,O,2,0,"th",10),t.YNc(11,E,2,0,"th",10),t.YNc(12,q,2,0,"th",10),t.qZA(),t.YNc(13,K,11,9,"tr",19),t.qZA()()),2&e){const i=t.oxw();t.xp6(5),t.Q6J("ngIf",i.hideSystolicColoumn),t.xp6(1),t.Q6J("ngIf",i.hideDiastolicColoumn),t.xp6(1),t.Q6J("ngIf",i.hidePulseColoumn),t.xp6(1),t.Q6J("ngIf",i.hideWeightColoumn),t.xp6(1),t.Q6J("ngIf",i.hideKetoneColoumn),t.xp6(1),t.Q6J("ngIf",i.hideSP02Coloumn),t.xp6(1),t.Q6J("ngIf",i.hideGlucoseColoumn),t.xp6(1),t.Q6J("ngIf",i.hideReadingTimeColoumn),t.xp6(1),t.Q6J("ngForOf",i.readings)}}function F(e,r){1&e&&(t.TgZ(0,"div",8)(1,"b"),t._uU(2,"Graph"),t.qZA()())}function V(e,r){if(1&e&&(t.TgZ(0,"div",23),t._UZ(1,"canvas",24),t.qZA()),2&e){const i=t.oxw();t.xp6(1),t.Q6J("options",i.chartOptions)("datasets",i.lineChartData)("labels",i.lineChartLabels)("colors",i.lineChartColors)("chartType",i.chartType)}}let $=(()=>{class e{constructor(i,n,C,c,o){this.router=i,this.billingService=n,this.patientService=C,this.datepipe=c,this.decimalPipe=o,this.hideWeightColoumn=!1,this.hideSystolicColoumn=!1,this.hideDiastolicColoumn=!1,this.hidePulseColoumn=!1,this.hideKetoneColoumn=!1,this.hideSP02Coloumn=!1,this.hideGlucoseColoumn=!1,this.hideReadingTimeColoumn=!1,this.glucose=[],this.sp02=[],this.diastolic=[],this.systolic=[],this.pulse=[],this.weight=[],this.ketone=[],this.lineChartData=[],this.lineChartLabels=[],this.device_name=[],this.serial_number=[],this.icd_codes=[],this.chartType="line",this.chartOptions={responsive:!0,maintainAspectRatio:!1,scales:{yAxes:[{ticks:{min:0,stepSize:50}}]},plugins:{title:{display:!0}}},this.lineChartColors=[{backgroundColor:"rgba(105, 0, 132, .2)",borderColor:"rgba(200, 99, 132, .7)",borderWidth:2},{backgroundColor:"rgba(255, 0, 0, .2)",borderColor:"rgba(224, 1, 1, .7)",borderWidth:2},{backgroundColor:"rgba(254, 165, 0, .2)",borderColor:"rgba(218, 142, 0, .7)",borderWidth:2},{backgroundColor:"rgba(0, 0, 255, .2)",borderColor:"rgba(0, 0, 226, .7)",borderWidth:2},{backgroundColor:"rgba(152, 254, 0, .2)",borderColor:"rgba(134, 222, 2, .7)",borderWidth:2},{backgroundColor:"rgba(0, 255, 255, .2)",borderColor:"rgba(0, 197, 223, .7)",borderWidth:2},{backgroundColor:"rgba(8, 67, 26, 0.81)",borderColor:"rgba(8, 67, 26, 0.81)",borderWidth:2}]}ngOnInit(){this.initData()}initData(){this.patient_information=this.billingService.rpm_billing_data,this.openClaim(this.patient_information.patient_id,this.patient_information.serviceDateTo,this.patient_information.serviceDateFrom)}downloadReport(i){}roundNumber(i){return this.decimalPipe.transform(i,"3.2-2")??"0"}roundNumber_(i){return this.decimalPipe.transform(i,"0.2-2")??"0"}openClaim(i,n,C){this.search_model={patient_id:i,patientServiceDateTo:n,patientServiceDateFrom:C},this.billingService.getNotes(this.search_model).subscribe(c=>{this.notes=c.data;for(let h=0;this.notes.length>h;h++)if(this.notes[h].date_of_note=this.notes[h]&&this.notes[h].date_of_note&&!this.notes[h].date_of_note.toString().includes("z")?this.datepipe.transform(this.notes[h].date_of_note+"Z","M/d/yy, h:mm a"):this.datepipe.transform(this.notes[h].date_of_note,"M/d/yy, h:mm a"),this.notes[h]&&this.notes[h].duration<60)this.notes[h].duration=this.notes[h].duration+" second";else{var o=Math.floor(this.notes[h].duration/60);this.notes[h].duration=o+" minute "+(this.notes[h].duration-60*o)+" second"}}),this.billingService.getICDCodes(i).subscribe(c=>{this.icd_code_information=c.data;for(let o=0;o<this.icd_code_information.length;o++)if(1==this.icd_code_information.length)this.icd_codes.push(this.icd_code_information[o].icd);else{let A=(null!=this.icd_codes[0]?this.icd_codes[0]:"")+this.icd_code_information[o].icd+", ";this.icd_codes=[],this.icd_codes.push(A)}if(this.icd_code_information.length>1){let o=this.icd_codes[0].slice(0,-2);this.icd_codes=[],this.icd_codes.push(o)}}),this.billingService.getDeviceInfo(i).subscribe(c=>{this.device_information=c.data;for(let o=0;o<this.device_information.length;o++)if(1==this.device_information.length)this.serial_number.push(this.device_information[o].serial_number),this.device_name.push(this.device_information[o].device_name);else{let A=(null!=this.serial_number[0]?this.serial_number[0]:"")+this.device_information[o].serial_number+", ",h=(null!=this.device_name[0]?this.device_name[0]:"")+this.device_information[o].device_name+", ";this.serial_number=[],this.device_name=[],this.serial_number.push(A),this.device_name.push(h)}if(this.device_information.length>1){let o=this.device_name[0].slice(0,-2),A=this.serial_number[0].slice(0,-2);this.serial_number=[],this.device_name=[],this.device_name.push(o),this.serial_number.push(A)}}),this.patient_information.pending_emr?this.getReadings(i,this.patient_information.serviceDateToD,this.patient_information.serviceDateFromD):this.getReadings(i,n,C)}getReadings(i,n,C){this.search_model={patient_id:i,patientServiceDateTo:n,patientServiceDateFrom:C},this.billingService.getReadings(this.search_model).subscribe(c=>{this.readings=c.data,this.hideWeightColoumn=this.readings.some(o=>o.weight),this.hideSystolicColoumn=this.readings.some(o=>o.systolic),this.hideDiastolicColoumn=this.readings.some(o=>o.diastolic),this.hidePulseColoumn=this.readings.some(o=>o.pulse),this.hideKetoneColoumn=this.readings.some(o=>o.ketone),this.hideSP02Coloumn=this.readings.some(o=>o.sp02),this.hideGlucoseColoumn=this.readings.some(o=>o.glucose),this.hideReadingTimeColoumn=this.readings.some(o=>o.reading_time),this.lineChartLabels=[];for(let o=0;o<this.readings.length;o++)this.readings[o].reading_time=this.readings[o]&&this.readings[o].reading_time&&!this.readings[o].reading_time.toString().includes("z")?this.datepipe.transform(this.readings[o].reading_time+"Z","M/d/yy, h:mm a"):this.datepipe.transform(this.readings[o].reading_time,"M/d/yy, h:mm a");for(let o=0;o<this.readings.length;o++)-1===this.lineChartLabels.indexOf(`d-${this.readings[o].reading_time.split("/")[1]}`)&&this.lineChartLabels.push(this.readings[o].reading_time);this.averageReadings(),this.setDataChart()})}averageReadings(){const i=[];this.readings.forEach(function(n){this[n.reading_time.substring(0,10)]||(this[n.reading_time.substring(0,10)]={reading_time:n.reading_time.substring(0,10),glucose:0,diastolic:0,systolic:0,sp02:0,pulse:0,weight:0,ketone:0,count:0},i.push(this[n.reading_time.substring(0,10)])),this[n.reading_time.substring(0,10)].count+=1,this[n.reading_time.substring(0,10)].glucose+=n.glucose,this[n.reading_time.substring(0,10)].diastolic+=n.diastolic,this[n.reading_time.substring(0,10)].systolic+=n.systolic,this[n.reading_time.substring(0,10)].sp02+=n.sp02,this[n.reading_time.substring(0,10)].pulse+=n.pulse,this[n.reading_time.substring(0,10)].weight+=n.weight,this[n.reading_time.substring(0,10)].ketone+=n.ketone},Object.create(null)),this.avgReadings=i}setDataChart(){if(void 0!==this.readings&&null!=this.readings&&null!=this.avgReadings&&this.avgReadings.length>0)for(let i=0;i<this.avgReadings.length;i++)this.pulse.push(this.avgReadings[i].pulse/this.avgReadings[i].count),this.systolic.push(this.avgReadings[i].systolic/this.avgReadings[i].count),this.diastolic.push(this.avgReadings[i].diastolic/this.avgReadings[i].count),this.sp02.push(this.avgReadings[i].sp02/this.avgReadings[i].count),this.glucose.push(this.avgReadings[i].glucose/this.avgReadings[i].count),this.weight.push(this.avgReadings[i].weight/this.avgReadings[i].count),this.ketone.push(this.avgReadings[i].ketone/this.avgReadings[i].count),i===this.avgReadings.length-1&&this.createChart();else this.createChart()}setChartDat(){if(null!=this.readings&&this.readings.length>0)for(let i=0;i<this.readings.length;i++)this.pulse.push(this.readings[i].pulse),this.systolic.push(this.readings[i].systolic),this.diastolic.push(this.readings[i].diastolic),this.sp02.push(this.readings[i].sp02),this.glucose.push(this.readings[i].glucose),this.weight.push(this.readings[i].weight),this.ketone.push(this.readings[i].ketone),i===this.readings.length-1&&this.createChart();else this.createChart()}createChart(){this.lineChartData=[],this.lineChartData.push({data:this.pulse,label:"Pulse",hidden:!this.hidePulseColoumn,barThickness:22,fill:!1}),this.lineChartData.push({data:this.systolic,label:"BP Systolic",hidden:!this.hideSystolicColoumn,barThickness:22,fill:!1}),this.lineChartData.push({data:this.diastolic,label:"BP Diastolic",hidden:!this.hideDiastolicColoumn,barThickness:22,fill:!1}),this.lineChartData.push({data:this.sp02,label:"Sp02",hidden:!this.hideSP02Coloumn,barThickness:22,fill:!1}),this.lineChartData.push({data:this.glucose,label:"Glucose",hidden:!this.hideGlucoseColoumn,barThickness:22,fill:!1}),this.lineChartData.push({data:this.weight,label:"Weight",hidden:!this.hideWeightColoumn,barThickness:22,fill:!1}),this.lineChartData.push({data:this.ketone,label:"Ketone",hidden:!this.hideKetoneColoumn,barThickness:22,fill:!1})}}return e.\u0275fac=function(i){return new(i||e)(t.Y36(p.F0),t.Y36(u.j),t.Y36(g.e),t.Y36(l.uU),t.Y36(l.JJ))},e.\u0275cmp=t.Xpm({type:e,selectors:[["app-remote-monitoring-doc"]],decls:41,vars:18,consts:[["id","remote_monitoring_doc"],["id","id1_1"],[1,"row"],[1,"col-sm-3"],[1,"d-flex","height-poc"],[1,"logo",3,"src"],[1,"col-sm-9"],[1,"header-patient-monitoring-doc"],[1,"header"],[1,"patient-information-container"],[4,"ngIf"],["class","header",4,"ngIf"],["class","notes-container",4,"ngIf"],["class","padding",4,"ngIf"],["class","graph-container",4,"ngIf"],[2,"float","right"],[2,"float","right","margin-right","12px"],[2,"margin-right","10px"],[1,"notes-container"],[4,"ngFor","ngForOf"],[1,"padding"],[1,"readings-table"],[3,"ngClass"],[1,"graph-container"],["baseChart","",2,"height","200px",3,"options","datasets","labels","colors","chartType"]],template:function(i,n){1&i&&(t.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4),t._UZ(5,"img",5),t.ALo(6,"assetsSource"),t.qZA()(),t.TgZ(7,"div",6)(8,"div",7),t._uU(9,"Patient Monitoring Document"),t.qZA()()(),t.TgZ(10,"div")(11,"div",8)(12,"b"),t._uU(13,"Patient Information"),t.qZA()(),t.TgZ(14,"div",9),t.YNc(15,Z,11,8,"p",10),t.YNc(16,a,13,8,"p",10),t.TgZ(17,"p")(18,"b"),t._uU(19,"Ordering Provider Name:"),t.qZA(),t._uU(20),t.qZA(),t.YNc(21,s,12,11,"p",10),t.YNc(22,d,12,11,"p",10),t.YNc(23,x,8,5,"p",10),t._UZ(24,"p"),t.TgZ(25,"p")(26,"b"),t._uU(27,"Device Name:"),t.qZA(),t._uU(28),t.TgZ(29,"b"),t._uU(30,"Serial Number:"),t.qZA(),t._uU(31),t.TgZ(32,"b"),t._uU(33,"ICD Codes:"),t.qZA(),t._uU(34),t.qZA()(),t.YNc(35,U,12,10,"div",11),t.YNc(36,w,2,1,"div",12),t.YNc(37,R,13,10,"div",11),t.YNc(38,W,14,9,"div",13),t.YNc(39,F,3,0,"div",11),t.YNc(40,V,2,5,"div",14),t.qZA()()()),2&i&&(t.xp6(5),t.Q6J("src",t.lcZ(6,16,"main-logo.png"),t.LSH),t.xp6(10),t.Q6J("ngIf",!n.patient_information.pending_emr),t.xp6(1),t.Q6J("ngIf",n.patient_information.pending_emr),t.xp6(4),t.hij(" ",null==n.patient_information?null:n.patient_information.provider_names," \xa0 \xa0 \xa0 \xa0 "),t.xp6(1),t.Q6J("ngIf",n.patient_information.pending_emr),t.xp6(1),t.Q6J("ngIf",n.patient_information.pending_emr),t.xp6(1),t.Q6J("ngIf",!n.patient_information.pending_emr),t.xp6(5),t.hij(" ",n.device_name[0]," \xa0 \xa0 \xa0 \xa0 "),t.xp6(3),t.hij(" ",n.serial_number[0]," \xa0 \xa0 \xa0 \xa0 "),t.xp6(3),t.hij(" ",n.icd_codes[0],""),t.xp6(1),t.Q6J("ngIf",null!=n.notes&&n.notes.length>0),t.xp6(1),t.Q6J("ngIf",null!=n.notes&&n.notes.length>0),t.xp6(1),t.Q6J("ngIf",null!=n.readings&&n.readings.length>0),t.xp6(1),t.Q6J("ngIf",null!=n.readings&&n.readings.length>0),t.xp6(1),t.Q6J("ngIf",null!=n.readings&&n.readings.length>0),t.xp6(1),t.Q6J("ngIf",null!=n.readings&&n.readings.length>0))},dependencies:[b.jh,l.mk,l.sg,l.O5,v.Uo,v._C,v.$Z,l.uU,m.n],styles:[".header[_ngcontent-%COMP%]{background-color:#4a2d73;background:#4a2d73;color:#fff;font-size:large;padding:5px}.patient-information-container[_ngcontent-%COMP%], .notes-container[_ngcontent-%COMP%]{padding:20px}.readings-table[_ngcontent-%COMP%]{margin-top:30px}table[_ngcontent-%COMP%]{font-family:arial,sans-serif;border-collapse:collapse;width:100%}td[_ngcontent-%COMP%], th[_ngcontent-%COMP%]{border:1px solid #dddddd;text-align:left;padding:8px}tr[_ngcontent-%COMP%]:nth-child(even){background-color:#ddd}.padding[_ngcontent-%COMP%]{padding:20px}.graph-container[_ngcontent-%COMP%]{padding:40px}.header-patient-monitoring-doc[_ngcontent-%COMP%]{margin-top:10px;font-weight:700;padding:3%;font:700 28px Arial}.height-poc[_ngcontent-%COMP%]{height:100px}.background-cell-abnormal[_ngcontent-%COMP%]{border:3px solid orange;font-weight:600;background:#ffebeb;text-align:center}.background-cell-normal[_ngcontent-%COMP%]{border:3px solid #3bd797;font-weight:600;background:#f3faf7;text-align:center}.background-cell-critical[_ngcontent-%COMP%]{border:3px solid red;font-weight:600;background:#fff5e2;text-align:center}"]}),e})()}}]);