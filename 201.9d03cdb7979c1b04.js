"use strict";(self.webpackChunktemplate_rpm_adnare=self.webpackChunktemplate_rpm_adnare||[]).push([[201],{5201:(B,_,a)=>{a.r(_),a.d(_,{MenuRolesSearchModule:()=>G});var u=a(6895),h=a(2510),S=a(4489),p=a(433),c=a(6773),R=a(8740),f=a(9671),C=a(8938),T=a(5226),g=a.n(T),z=a(4641),Z=a(8493),e=a(4650),b=a(9503),x=a(9038),y=a(7044),A=a(3679),D=a(6704),U=a(7423),v=a(8521),P=a(1243),s=a(269),J=a(1237),O=a(827);const I=function(){return{standalone:!0}};function F(i,d){if(1&i){const t=e.EpF();e.TgZ(0,"tbody")(1,"tr"),e.ynx(2),e.TgZ(3,"td"),e._uU(4),e.qZA(),e.TgZ(5,"td"),e._uU(6),e.qZA(),e.TgZ(7,"td"),e._uU(8),e.qZA(),e.TgZ(9,"td"),e._uU(10),e.ALo(11,"date"),e.qZA(),e.TgZ(12,"td")(13,"div"),e.ynx(14),e.TgZ(15,"nz-switch",39),e.NdJ("ngModelChange",function(l){const r=e.CHM(t).$implicit;return e.KtG(r.active_switch=l)}),e.qZA(),e.BQk(),e.qZA()(),e.TgZ(16,"td")(17,"div",40)(18,"i",41),e.NdJ("click",function(){const o=e.CHM(t).$implicit,r=e.oxw();return e.KtG(r.deleteMenuRole(o))}),e.qZA(),e.TgZ(19,"i",42),e.NdJ("click",function(){const o=e.CHM(t).$implicit,r=e.oxw();return e.KtG(r.editMenuRole(o))}),e.qZA()()(),e.BQk(),e.qZA()()}if(2&i){const t=d.$implicit;e.xp6(4),e.Oqu(t.name),e.xp6(2),e.Oqu(t.description),e.xp6(2),e.AsE("",t.created_by_first_name," ",t.created_by_last_name,""),e.xp6(2),e.Oqu(e.xi3(11,8,t.created_on,"MM/dd/yyyy hh:mm:ss")),e.xp6(5),e.Q6J("ngModel",t.active_switch)("ngModelOptions",e.DdM(11,I))("nzDisabled",!0)}}function N(i,d){1&i&&e._UZ(0,"tbody")}z.vfs=Z.I.vfs;const Q=[{path:"",component:(()=>{class i{constructor(t,n,l,o){this.patientService=t,this.menuRoleService=n,this.router=l,this.datepipe=o,this.pageIndex=1,this.pageSize=10,this.pageSizeOptions=[10,15,20,25,30],this.get_all_data=!1,this.totalMenuRoles=0,this.changePageSize=10}ngOnInit(){this.is_active=""}buildTableBody(t,n){var l=[];return l.push(n),t.forEach(o=>{var r=[];n.forEach(function(M){r.push(o[M.text])}),l.push(r)}),l}table(t,n){return{table:{headerRows:1,body:this.buildTableBody(t,n),dontBreakRows:!0,fontSize:14,widths:[100,120,100,100]}}}downloadAllMenuRolesData(t){var n=this;return(0,f.Z)(function*(){n.search_model={user_id:localStorage.getItem("user_id"),sort_order:n.sortOrder??"",sort_coloumn:n.sortField??"",page_number:n.pageIndex,page_size:n.pageSize,is_active:n.is_active??"",menu_role:n.menu_role??"",get_all_data:!1},n.menuRoleService.getMenuRoleGridData(n.search_model).subscribe(l=>{1==l.success?(n.menuRoleExportData=l.data.map(o=>({Name:o.name,Description:o.description,"Created By":o.created_by_first_name+" "+o.created_by_last_name,"Created On":n.datepipe.transform(o.created_on,"MM/dd/yyyy hh:mm:ss")})),"pdf"==t&&n.exportToPdf(n.menuRoleExportData),"csv"==t&&n.exportToCsv(n.menuRoleExportData)):g().fire({icon:"error",text:l.message})})})()}downloadMenuRolesData(t){null!=this.menuRoleTableData&&0!=this.menuRoleTableData.length?this.downloadAllMenuRolesData(t):g().fire({icon:"error",text:"No Record to Download"})}exportToCsv(t){new C.Sv(t,"Menu Roles",{fieldSeparator:",",quoteStrings:'"',decimalseparator:".",title:"",useBom:!0,noDownload:!1,headers:["Name","Description","Created By","Created On"]})}exportToPdf(t){var l={content:[{text:"Menu Roles",fontSize:7,bold:!0},this.table(t,[{text:"Name",style:"tableHeader"},{text:"Description",style:"tableHeader"},{text:"Created By",style:"tableHeader"},{text:"Created On",style:"tableHeader"}])],defaultStyle:{fontSize:10},styles:{tableHeader:{bold:!0,fontSize:10,color:"white",fillColor:"#4A2D73"}}};z.createPdf(l).download("Menu Roles.pdf")}onQueryParamsChange(t){var n=this;return(0,f.Z)(function*(){n.prev_pageIndex=null!=n.savedParams?n.savedParams.pageIndex:null,n.savedParams=t;const{pageIndex:o,sort:r}=t,m=r.find(w=>null!==w.value);n.sortField=m&&m.key||null,n.sortOrder=m&&m.value||null,n.pageIndex=o,(null!=n.menuRoleTableData&&null!=n.sortField&&null!=n.sortOrder||null!=n.prev_pageIndex&&n.prev_pageIndex!=n.pageIndex||n.changePageSize!=n.pageSize)&&n.getMenuRoleGridData(),n.changePageSize=n.pageSize})()}getMenuRoleGridData(){this.search_model={user_id:localStorage.getItem("user_id"),sort_order:this.sortOrder??"",sort_coloumn:this.sortField??"",page_number:this.pageIndex,page_size:this.pageSize,is_active:this.is_active??"",menu_role:this.menu_role??"",get_all_data:!1},this.menuRoleService.getMenuRoleGridData(this.search_model).subscribe(t=>{1==t.success?(this.menuRoleTableData=t.data,this.totalMenuRoles=t.data.length>0?t.data[0].total_record_count:0):g().fire({icon:"error",text:t.message})})}search(){this.pageIndex=1,this.getMenuRoleGridData()}handleClear(){this.menu_role="",this.permission_level="",this.is_active="",this.getMenuRoleGridData()}addMenuRole(){this.menuRoleService.menu_role_id=null,this.menuRoleService.method="create",this.router.navigate(["/add-menu-roles"])}editMenuRole(t){this.menuRoleService.method="update",this.menuRoleService.menu_role_id=t.menu_role_id,this.router.navigate(["/add-menu-roles"])}deleteMenuRole(t){this.menuRoleService.deleteMenuRole(t.menu_role_id).subscribe(n=>{1==n.success?(g().fire({icon:"success",text:n.message}),this.pageIndex=1,this.getMenuRoleGridData()):g().fire({icon:"error",text:n.message})})}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(b.e),e.Y36(x.K),e.Y36(h.F0),e.Y36(u.uU))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-menu-roles-search"]],decls:69,vars:25,consts:[[1,"screen"],[1,"screen-header"],[1,"screen-name"],["ngbTooltip","Search","tooltipClass","custom-search-tooltip-color",1,"screen-header-btn","margin-right",3,"click"],[1,"fa","fa-search"],[1,"screen-header-btn","margin-right",3,"click"],[1,"pipe"],["ngbDropdown","",1,"d-inline-block"],["Export","ngbDropdown"],["id","dropdownManual2",1,"screen-header-btn","margin-right",3,"focus"],[3,"src"],[1,"pipe-inside-btn"],[1,"fa","fa-chevron-down"],["ngbDropdownMenu","","aria-labelledby","dropdownManual2"],["ngbDropdownItem","",1,"screen-header-btn","margin-right",3,"click"],[1,"fa","fa-file-csv"],[1,"fa","fa-file-pdf"],[1,"screen-header-btn",3,"click"],[1,"screen-search-criteria-div"],[1,"row"],[1,"col-lg-3","col-md-3","col-sm-6","col-xs-6"],["type","text","placeholder","Menu Role","label","Menu Role","align_icon","left",3,"ngModel","ngModelChange"],[1,"col-lg-3","col-md-3","col-lg-3","col-md-5","margin-top-left"],[3,"ngModel","ngModelChange"],["nz-radio","","nzValue","1"],["nz-radio","","nzValue","0"],["nz-radio","","nzValue",""],[1,"table-div"],["nzShowSizeChanger","",1,"ch-table",3,"nzPageSizeOptions","nzFrontPagination","nzTotal","nzPageIndex","nzPageSize","nzData","nzQueryParams","nzPageIndexChange","nzPageSizeChange"],["nzTable","","sortTable","","filterTable",""],["nzColumnKey","name",3,"nzSortFn"],["nzColumnKey","description",3,"nzSortFn"],["nzColumnKey","created_by",3,"nzSortFn"],["nzColumnKey","created_on",3,"nzSortFn"],["nzColumnKey","active",3,"nzSortFn"],[4,"ngFor","ngForOf"],[4,"ngIf"],[1,"total"],[1,"total-span"],[1,"rpm-switch",3,"ngModel","ngModelOptions","nzDisabled","ngModelChange"],[1,"table-icon-container"],["nz-icon","","nzType","delete","nzTheme","outline","nzTooltipPlacement","top","ngbTooltip","Delete",1,"table-coloumn-icons",3,"click"],["nz-icon","","nzType","edit","nzTheme","outline","nzTooltipPlacement","top","ngbTooltip","Edit",1,"table-coloumn-icons",3,"click"]],template:function(t,n){if(1&t){const l=e.EpF();e.TgZ(0,"div",0)(1,"div",1)(2,"div",2),e._uU(3," Menu Role Search "),e.qZA(),e.TgZ(4,"div")(5,"button",3),e.NdJ("click",function(){return n.search()}),e._UZ(6,"span",4),e.qZA(),e.TgZ(7,"button",5),e.NdJ("click",function(){return n.handleClear()}),e._uU(8,"Clear All"),e.qZA(),e._UZ(9,"span",6),e.TgZ(10,"div",7,8)(12,"button",9),e.NdJ("focus",function(){e.CHM(l);const r=e.MAs(11);return e.KtG(r.open())}),e._UZ(13,"img",10),e.ALo(14,"assetsSource"),e._uU(15," Export "),e._UZ(16,"span",11)(17,"span",12),e.qZA(),e.TgZ(18,"div",13)(19,"button",14),e.NdJ("click",function(){return n.downloadMenuRolesData("csv")}),e._UZ(20,"i",15),e._uU(21," CSV "),e.qZA(),e.TgZ(22,"button",14),e.NdJ("click",function(){return n.downloadMenuRolesData("pdf")}),e._UZ(23,"i",16),e._uU(24," PDF "),e.qZA()()(),e._UZ(25,"span",6),e.TgZ(26,"button",17),e.NdJ("click",function(){return n.addMenuRole()}),e._UZ(27,"img",10),e.ALo(28,"assetsSource"),e._uU(29," Menu Role "),e.qZA()()(),e.TgZ(30,"div",18)(31,"div",19)(32,"div",20)(33,"app-ad-custom-input",21),e.NdJ("ngModelChange",function(r){return n.menu_role=r}),e.qZA()(),e.TgZ(34,"div",22)(35,"nz-form-item")(36,"nz-radio-group",23),e.NdJ("ngModelChange",function(r){return n.is_active=r}),e.TgZ(37,"label",24),e._uU(38,"Active"),e.qZA(),e.TgZ(39,"label",25),e._uU(40,"Inactive"),e.qZA(),e.TgZ(41,"label",26),e._uU(42,"All"),e.qZA()()()()(),e.TgZ(43,"div",27)(44,"nz-table",28,29),e.NdJ("nzQueryParams",function(r){return n.onQueryParamsChange(r)})("nzPageIndexChange",function(r){return n.pageIndex=r})("nzPageSizeChange",function(r){return n.pageSize=r}),e.TgZ(48,"thead")(49,"tr")(50,"th",30),e._uU(51,"Name"),e.qZA(),e.TgZ(52,"th",31),e._uU(53,"Description"),e.qZA(),e.TgZ(54,"th",32),e._uU(55,"Created By"),e.qZA(),e.TgZ(56,"th",33),e._uU(57,"Created On"),e.qZA(),e.TgZ(58,"th",34),e._uU(59,"Active"),e.qZA(),e.TgZ(60,"th"),e._uU(61,"Actions"),e.qZA()()(),e.YNc(62,F,20,12,"tbody",35),e.YNc(63,N,1,0,"tbody",36),e.qZA(),e.TgZ(64,"div",37),e._UZ(65,"img",10),e.ALo(66,"assetsSource"),e.TgZ(67,"span",38),e._uU(68),e.qZA()()()()()}if(2&t){const l=e.MAs(46);e.xp6(13),e.Q6J("src",e.lcZ(14,19,"export.png"),e.LSH),e.xp6(14),e.Q6J("src",e.lcZ(28,21,"patient.png"),e.LSH),e.xp6(6),e.Q6J("ngModel",n.menu_role),e.xp6(3),e.Q6J("ngModel",n.is_active),e.xp6(8),e.Q6J("nzPageSizeOptions",n.pageSizeOptions)("nzFrontPagination",!1)("nzTotal",n.totalMenuRoles)("nzPageIndex",n.pageIndex)("nzPageSize",n.pageSize)("nzData",n.menuRoleTableData),e.xp6(6),e.Q6J("nzSortFn",!0),e.xp6(2),e.Q6J("nzSortFn",!0),e.xp6(2),e.Q6J("nzSortFn",!0),e.xp6(2),e.Q6J("nzSortFn",!0),e.xp6(2),e.Q6J("nzSortFn",!0),e.xp6(4),e.Q6J("ngForOf",l.data),e.xp6(1),e.Q6J("ngIf",0==l.data.length),e.xp6(2),e.Q6J("src",e.lcZ(66,23,"total.png"),e.LSH),e.xp6(3),e.Oqu(n.totalMenuRoles)}},dependencies:[u.sg,u.O5,y.w,A.SK,D.Nx,U.Ls,v.Of,v.Dg,P.i,s.N8,s.qD,s.Uo,s._C,s.Om,s.p0,s.$Z,p.JJ,p.On,c.jt,c.Vi,c.TH,c._L,J.y,u.uU,O.n],styles:[".margin-top-left[_ngcontent-%COMP%]{margin-top:17px}"]}),i})()}];let G=(()=>{class i{}return i.\u0275fac=function(t){return new(t||i)},i.\u0275mod=e.oAB({type:i}),i.\u0275inj=e.cJS({imports:[u.ez,S.T,h.Bz.forChild(Q),p.u5,p.UX,c.IJ,R.m,h.Bz]}),i})()}}]);